{
  "$schema": "../../../schema/m3-room.schema.json",
  "id": 138,
  "name": "Wasteland",
  "area": "Norfair",
  "subarea": "Lower",
  "subsubarea": "East",
  "playable": true,
  "roomAddress": "0x7B5D5",
  "roomEnvironments": [{"heated": true}],
  "nodes": [
    {
      "id": 1,
      "name": "Bottom Left Door",
      "nodeType": "door",
      "nodeSubType": "green",
      "nodeAddress": "0x0019a1a",
      "doorEnvironments": [{"physics": "air"}],
      "runways": [
        {
          "name": "Base Runway - Wasteland Left Door (to Metal Pirates)",
          "length": 5,
          "strats": [
            {
              "name": "Base",
              "notable": false,
              "requires": [
                "h_canNavigateHeatRooms",
                {"heatFrames": 90}
              ]
            }
          ],
          "openEnd": 1
        }
      ],
      "locks": [
        {
          "name": "Wasteland Green Lock (to Metal Pirates)",
          "lockType": "coloredDoor",
          "unlockStrats": [
            {
              "name": "Base",
              "notable": false,
              "requires": [
                "h_canOpenGreenDoors"
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 2,
      "name": "Top Right Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x0019a26",
      "doorEnvironments": [{"physics": "air"}]
    },
    {
      "id": 3,
      "name": "Item",
      "nodeType": "item",
      "nodeSubType": "visible",
      "nodeItem": "PowerBomb",
      "nodeAddress": "0x790C0"
    },
    {
      "id": 4,
      "name": "Junction Above Power Bomb Blocks, Enemy Dealt With",
      "nodeType": "junction",
      "nodeSubType": "junction",
      "note": "This includes either having killed the Dessgeega or having iframes so you can leave without further damage."
    },
    {
      "id": 5,
      "name": "Junction Above Power Bomb Blocks",
      "nodeType": "junction",
      "nodeSubType": "junction",
      "note": "This means being just below the central junction, before dealing with the Dessgeega."
    },
    {
      "id": 6,
      "name": "Junction Left of Power Bomb Blocks",
      "nodeType": "junction",
      "nodeSubType": "junction",
      "note": "This means being just left of the central junction, before dealing with the Dessgeega."
    },
    {
      "id": 7,
      "name": "Junction Left of Morph Tunnel",
      "nodeType": "junction",
      "nodeSubType": "junction"
    }
  ],
  "obstacles": [
    {
      "id": "A",
      "name": "Power Bomb Blocks",
      "obstacleType": "inanimate"
    },
    {
      "id": "B",
      "name": "Bomb Blocks of Shame",
      "obstacleType": "inanimate"
    },
    {
      "id": "C",
      "name": "Dessgeega on PB-blocks",
      "obstacleType": "enemies"
    },
    {
      "id": "D",
      "name": "3 Dessgeegas",
      "obstacleType": "enemies"
    }
  ],
  "enemies": [
    {
      "id": "e1",
      "groupName": "Wasteland Left Dessgeega",
      "enemyName": "Dessgeega",
      "quantity": 1,
      "homeNodes": [4],
      "dropRequires": ["h_heatProof"]
    },
    {
      "id": "e2",
      "groupName": "Wasteland Right Dessgeegas",
      "enemyName": "Dessgeega",
      "quantity": 3,
      "betweenNodes": [4, 7],
      "dropRequires": ["h_heatProof"]
    }
  ],
  "links": [
    {
      "from": 1,
      "to": [
        {"id": 1},
        {"id": 5},
        {
          "id": 6,
          "note": "this is a one-way link for the X-Ray climb, because it brings you to the left of the Dessgeega at the top."
        }
      ]
    },
    {
      "from": 2,
      "to": [
        {"id": 2},
        {"id": 7}
      ]
    },
    {
      "from": 3,
      "to": [
        {"id": 3},
        {"id": 6}
      ]
    },
    {
      "from": 4,
      "to": [
        {"id": 4},
        {"id": 5},
        {"id": 6},
        {"id": 7}
      ]
    },
    {
      "from": 5,
      "to": [
        {"id": 1},
        {"id": 4}
      ]
    },
    {
      "from": 6,
      "to": [
        {"id": 3},
        {"id": 4}
      ]
    },
    {
      "from": 7,
      "to": [
        {"id": 2},
        {"id": 4},
        {"id": 7}
      ]
    }
  ],
  "strats": [
    {
      "link": [1, 1],
      "name": "Crystal Flash",
      "requires": [
        "h_canHeatedCrystalFlash"
      ]
    },
    {
      "link": [1, 5],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 580},
        {"or": [
          "canWalljump",
          {"heatFrames": 200}
        ]},
        {"or": [
          {"and": [
            "h_canUsePowerBombs",
            {"heatFrames": 120}
          ]},
          {"obstaclesCleared": ["A"]}
        ]}
      ],
      "clearsObstacles": ["A", "B"]
    },
    {
      "link": [1, 6],
      "name": "Wasteland X-Ray Climb",
      "entranceCondition": {
        "comeInWithDoorStuckSetup": {}
      },
      "requires": [
        "canXRayClimb",
        {"heatFrames": 2800}
      ],
      "note": "Climb up 2 screens.",
      "devNote": [
        "Ever so slightly shorter than the long climb in Screw Attack Room (1 tile), we'll just put the same value.",
        "Heat frames split into the actual climb and the setup in the adjacent room."
      ]
    },
    {
      "link": [2, 2],
      "name": "Crystal Flash",
      "requires": [
        {"heatFrames": 10},
        "h_canHeatedCrystalFlash"
      ]
    },
    {
      "link": [2, 2],
      "name": "Leave With Door Frame Below",
      "requires": [
        {"heatFrames": 50}
      ],
      "exitCondition": {
        "leaveWithDoorFrameBelow": {
          "height": 2
        }
      },
      "devNote": [
        "FIXME: We could add a leaveWithDoorFrameBelow strat starting from node 7.",
        "It might be cleaner if there were another junction node past the bomb blocks."
      ]
    },
    {
      "link": [2, 2],
      "name": "Leave With Platform Below",
      "requires": [
        {"heatFrames": 50}
      ],
      "exitCondition": {
        "leaveWithPlatformBelow": {
          "height": 6,
          "leftPosition": -1.5,
          "rightPosition": 1.5
        }
      },
      "devNote": [
        "FIXME: We could add a leaveWithPlatformBelow strat starting from node 7.",
        "It might be cleaner if there were another junction node past the bomb blocks."
      ]
    },
    {
      "link": [2, 7],
      "name": "Bombs",
      "requires": [
        "h_canNavigateHeatRooms",
        "h_canUseMorphBombs",
        {"heatFrames": 350}
      ]
    },
    {
      "link": [2, 7],
      "name": "Power Bombs",
      "requires": [
        "h_canNavigateHeatRooms",
        "Morph",
        {"ammo": {"type": "PowerBomb", "count": 2}},
        {"heatFrames": 350}
      ]
    },
    {
      "link": [3, 3],
      "name": "Crystal Flash",
      "requires": [
        "h_canHeatedCrystalFlash"
      ]
    },
    {
      "link": [3, 6],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        "Morph",
        {"heatFrames": 120},
        {"obstaclesCleared": ["B"]}
      ],
      "devNote": [
        "It's not possible to reach node 3 without destroying obstacle B.",
        "So no need to elaborate on how it can be destroyed from here and how many heat frames it would take."
      ]
    },
    {
      "link": [4, 4],
      "name": "Crystal Flash",
      "requires": [
        {"obstaclesCleared": ["C"]},
        "h_canHeatedCrystalFlash"
      ],
      "clearsObstacles": ["A", "B"]
    },
    {
      "link": [4, 5],
      "name": "Base",
      "requires": []
    },
    {
      "link": [4, 6],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 100}
      ]
    },
    {
      "link": [4, 7],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        {"obstaclesCleared": ["D"]},
        {"heatFrames": 200}
      ]
    },
    {
      "link": [4, 7],
      "name": "Tank the Damage",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 250},
        {"enemyDamage": {
          "enemy": "Dessgeega",
          "type": "contact",
          "hits": 1
        }}
      ]
    },
    {
      "link": [4, 7],
      "name": "HeatProof Kill",
      "requires": [
        "h_heatProof",
        {"enemyKill": {
          "enemies": [["Dessgeega"]],
          "excludedWeapons": ["Bombs"]
        }}
      ],
      "clearsObstacles": ["D"],
      "devNote": "Bombs excluded because that'd probably cost more health than just running through."
    },
    {
      "link": [4, 7],
      "name": "Screw Kill",
      "requires": [
        "h_canNavigateHeatRooms",
        "ScrewAttack",
        {"heatFrames": 300}
      ],
      "clearsObstacles": ["D"]
    },
    {
      "link": [4, 7],
      "name": "Supers Kill",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 550},
        {"enemyKill": {
          "enemies": [["Dessgeega", "Dessgeega", "Dessgeega"]],
          "explicitWeapons": ["Super"]
        }}
      ],
      "clearsObstacles": ["D"]
    },
    {
      "link": [4, 7],
      "name": "Strong Beam Kill",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 550},
        "Plasma",
        {"or": [
          "Ice",
          "Wave"
        ]}
      ],
      "clearsObstacles": ["D"]
    },
    {
      "link": [5, 1],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 600},
        {"or": [
          {"and": [
            "h_canUsePowerBombs",
            {"heatFrames": 50}
          ]},
          {"obstaclesCleared": ["A"]}
        ]}
      ],
      "clearsObstacles": ["A", "B"],
      "devNote": [
        "This expects that the PB gets used a bit before the node is actually reached.",
        "This is why the full wait time isn't included in heat frames."
      ]
    },
    {
      "link": [5, 4],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        {"obstaclesCleared": ["C"]}
      ]
    },
    {
      "link": [5, 4],
      "name": "HeatProof Kill",
      "requires": [
        "h_heatProof",
        {"enemyKill": {
          "enemies": [["Dessgeega"]],
          "excludedWeapons": ["Bombs"]
        }}
      ],
      "clearsObstacles": ["C"],
      "devNote": "Bombs excluded because that'd probably cost more health than just running through."
    },
    {
      "link": [5, 4],
      "name": "Tank the Damage",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 50},
        {"enemyDamage": {
          "enemy": "Dessgeega",
          "type": "contact",
          "hits": 1
        }}
      ]
    },
    {
      "link": [5, 4],
      "name": "Screw Kill",
      "requires": [
        "h_canNavigateHeatRooms",
        "ScrewAttack",
        {"heatFrames": 100}
      ],
      "clearsObstacles": ["C"]
    },
    {
      "link": [5, 4],
      "name": "Supers Kill",
      "requires": [
        "h_canNavigateHeatRooms",
        {"enemyKill": {
          "enemies": [["Dessgeega"]],
          "explicitWeapons": ["Super"]
        }},
        {"heatFrames": 100}
      ],
      "clearsObstacles": ["C"]
    },
    {
      "link": [5, 4],
      "name": "Beam Kill",
      "requires": [
        "h_canNavigateHeatRooms",
        "Plasma",
        {"or": [
          "Ice",
          "Wave"
        ]},
        {"heatFrames": 100}
      ],
      "clearsObstacles": ["C"]
    },
    {
      "link": [6, 3],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        "Morph",
        {"heatFrames": 100},
        {"obstaclesCleared": ["B"]}
      ]
    },
    {
      "link": [6, 3],
      "name": "Screw",
      "requires": [
        "h_canNavigateHeatRooms",
        "ScrewAttack",
        "Morph",
        {"heatFrames": 100}
      ],
      "clearsObstacles": ["B"]
    },
    {
      "link": [6, 3],
      "name": "Bombs",
      "requires": [
        "h_canNavigateHeatRooms",
        "h_canUseMorphBombs",
        {"heatFrames": 200}
      ],
      "clearsObstacles": ["B"]
    },
    {
      "link": [6, 3],
      "name": "Power Bomb",
      "requires": [
        "h_canNavigateHeatRooms",
        "h_canUsePowerBombs",
        {"heatFrames": 100}
      ],
      "clearsObstacles": ["A", "B"],
      "devNote": "This expects that the PB is used earlier, avoiding the need to wait for the blast."
    },
    {
      "link": [6, 4],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 80},
        {"obstaclesCleared": ["C"]}
      ]
    },
    {
      "link": [6, 4],
      "name": "Tank the Damage",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 130},
        {"enemyDamage": {
          "enemy": "Dessgeega",
          "type": "contact",
          "hits": 1
        }}
      ]
    },
    {
      "link": [6, 4],
      "name": "HeatProof Kill",
      "requires": [
        "h_heatProof",
        {"enemyKill": {
          "enemies": [["Dessgeega"]],
          "excludedWeapons": ["Bombs"]
        }}
      ],
      "clearsObstacles": ["C"],
      "devNote": "Bombs excluded because that'd probably cost more health than just running through."
    },
    {
      "link": [6, 4],
      "name": "Screw Kill",
      "requires": [
        "h_canNavigateHeatRooms",
        "ScrewAttack",
        {"heatFrames": 130}
      ],
      "clearsObstacles": ["C"]
    },
    {
      "link": [6, 4],
      "name": "Supers Kill",
      "requires": [
        "h_canNavigateHeatRooms",
        {"enemyKill": {
          "enemies": [["Dessgeega"]],
          "explicitWeapons": ["Super"]
        }},
        {"heatFrames": 130}
      ],
      "clearsObstacles": ["C"]
    },
    {
      "link": [6, 4],
      "name": "Strong Beam Kill",
      "requires": [
        "h_canNavigateHeatRooms",
        "Plasma",
        {"or": [
          "Ice",
          "Wave"
        ]},
        {"heatFrames": 130}
      ],
      "clearsObstacles": ["C"]
    },
    {
      "link": [7, 2],
      "name": "Avoid Hibashi",
      "requires": [
        "h_heatProof",
        "h_canBombThings",
        "h_canUsePowerBombs"
      ],
      "note": [
        "The hibashi hit can be avoided by waiting for the pillar to go up.",
        "That requires the use of one PB and more time than is worth unless heat proof."
      ],
      "devNote": "Note that if using PBs, two is required. One each from h_canBombThings, h_canUsePowerBombs."
    },
    {
      "link": [7, 2],
      "name": "Bombs",
      "requires": [
        "h_canNavigateHeatRooms",
        "h_canUseMorphBombs",
        {"heatFrames": 400},
        {"hibashiHits": 1}
      ]
    },
    {
      "link": [7, 2],
      "name": "Power Bombs",
      "requires": [
        "h_canNavigateHeatRooms",
        "Morph",
        {"ammo": {"type": "PowerBomb", "count": 2}},
        {"heatFrames": 400},
        {"hibashiHits": 1}
      ]
    },
    {
      "link": [7, 4],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 150},
        {"obstaclesCleared": ["D"]}
      ]
    },
    {
      "link": [7, 4],
      "name": "Tank the Damage",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 200},
        {"enemyDamage": {
          "enemy": "Dessgeega",
          "type": "contact",
          "hits": 2
        }}
      ]
    },
    {
      "link": [7, 4],
      "name": "HeatProof Kill",
      "requires": [
        "h_heatProof",
        {"enemyKill": {
          "enemies": [
            ["Dessgeega"],
            ["Dessgeega"],
            ["Dessgeega", "Dessgeega"]
          ]
        }}
      ],
      "clearsObstacles": ["C", "D"],
      "devNote": "Bombs are not excluded here because there are consistent, safe setups for all Dessgeegas from this direction."
    },
    {
      "link": [7, 4],
      "name": "Screw Kill",
      "requires": [
        "h_canNavigateHeatRooms",
        "ScrewAttack",
        {"heatFrames": 300}
      ],
      "clearsObstacles": ["C", "D"]
    },
    {
      "link": [7, 4],
      "name": "Supers Kill",
      "requires": [
        "h_canNavigateHeatRooms",
        {"enemyKill": {
          "enemies": [
            [
              "Dessgeega",
              "Dessgeega",
              "Dessgeega",
              "Dessgeega"
            ]
          ],
          "explicitWeapons": ["Super"]
        }},
        {"heatFrames": 600}
      ],
      "clearsObstacles": ["C", "D"]
    },
    {
      "link": [7, 4],
      "name": "Strong Beam Kill",
      "requires": [
        "h_canNavigateHeatRooms",
        "Plasma",
        {"or": [
          "Ice",
          "Wave"
        ]},
        {"heatFrames": 600}
      ],
      "clearsObstacles": ["C", "D"]
    },
    {
      "link": [7, 7],
      "name": "Crystal Flash",
      "requires": [
        "h_canHeatedCrystalFlash"
      ],
      "devNote": [
        "FIXME: This can have a side effect of damaging the Dessgeega or breaking the bomb blocks, neither of which are modeled."
      ]
    }
  ]
}
