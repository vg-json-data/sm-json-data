{
  "$schema": "../../../schema/m3-room.schema.json",
  "id": 134,
  "name": "Pillar Room",
  "area": "Norfair",
  "subarea": "Lower",
  "subsubarea": "East",
  "playable": true,
  "roomAddress": "0x7B457",
  "roomEnvironments": [{"heated": true}],
  "nodes": [
    {
      "id": 1,
      "name": "Left Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x0019942",
      "doorEnvironments": [
        {
          "physics": "air",
          "note": "Acid can rise above the door, but it's possible to have air physics."
        }
      ]
    },
    {
      "id": 2,
      "name": "Right Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x001994e",
      "doorEnvironments": [
        {
          "physics": "air",
          "note": "Acid can rise above the door, but it's possible to have air physics."
        }
      ]
    }
  ],
  "enemies": [
    {
      "id": "e1",
      "groupName": "Pillar Room Puromis",
      "enemyName": "Puromi",
      "quantity": 2,
      "betweenNodes": [1, 2],
      "dropRequires": ["h_heatProof"]
    }
  ],
  "reusableRoomwideNotable": [
    {
      "name": "Lower Norfair Pillar Room with Two Power Bombs",
      "note": [
        "Place the Power Bombs as forward as possible in order to only need to use two.",
        "This makes it more likely to fall in the acid."
      ]
    },
    {
      "name": "Lower Norfair Pillar Room with Bombs",
      "note": [
        "Cross the Pillar Room with Bombs and minimal damage.",
        "Some acid damage is expected, but any mistakes greatly increases the time spent in acid."
      ]
    }
  ],
  "links": [
    {
      "from": 1,
      "to": [
        {"id": 1},
        {"id": 2}
      ]
    },
    {
      "from": 2,
      "to": [
        {"id": 1},
        {"id": 2}
      ]
    }
  ],
  "strats": [
    {
      "link": [1, 1],
      "name": "Leave With Runway",
      "entranceCondition": {
        "comeInNormally": {}
      },
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 5,
          "openEnd": 1
        }
      },
      "unlocksDoors": [
        {"types": ["missiles"], "requires": [{"heatFrames": 50}]},
        {"types": ["super"], "requires": []},
        {"types": ["powerbomb"], "requires": [{"heatFrames": 110}]}
      ]
    },
    {
      "link": [1, 1],
      "name": "Crystal Flash",
      "entranceCondition": {
        "comeInNormally": {}
      },
      "requires": [
        "h_canHeatedCrystalFlash",
        {"resetRoom": {
          "nodes": [1],
          "mustStayPut": false
        }}
      ]
    },
    {
      "link": [1, 2],
      "name": "Screw",
      "requires": [
        "ScrewAttack",
        {"or": [
          "canCarefulJump",
          {"heatFrames": 60}
        ]},
        {"heatFrames": 490}
      ]
    },
    {
      "link": [1, 2],
      "name": "Space Screw",
      "requires": [
        "ScrewAttack",
        "SpaceJump",
        {"heatFrames": 380}
      ]
    },
    {
      "link": [1, 2],
      "name": "Space Screw (Come in Running)",
      "entranceCondition": {
        "comeInRunning": {
          "minTiles": 2,
          "speedBooster": "any"
        }
      },
      "requires": [
        "ScrewAttack",
        "SpaceJump",
        "canCarefulJump",
        {"heatFrames": 300}
      ]
    },
    {
      "link": [1, 2],
      "name": "Shinespark",
      "entranceCondition": {
        "comeInShinecharged": {
          "framesRequired": 15
        }
      },
      "requires": [
        "canMidairShinespark",
        {"shinespark": {"frames": 78, "excessFrames": 8}},
        {"heatFrames": 210}
      ],
      "note": "Jump before shinesparking to avoid an early crash.",
      "devNote": [
        "There is a heatframe vs shinespark frame tradeoff here.",
        "This excessShinesparkFrame count breaks the small pillar near the door at 2"
      ]
    },
    {
      "link": [1, 2],
      "name": "Blue Space Jump",
      "entranceCondition": {
        "comeInShinecharging": {
          "length": 4,
          "openEnd": 1
        }
      },
      "requires": [
        "canBlueSpaceJump",
        {"heatFrames": 300}
      ],
      "devNote": [
        "This is considered faster than Space Screw because we can safely assume carried momentum from previous rooms.",
        "The heat frame count is conservative and assumes only the speed of a 4-tap."
      ]
    },
    {
      "link": [1, 2],
      "name": "Pillar Room with Two Power Bombs (Left to Right)",
      "notable": true,
      "requires": [
        "Morph",
        "canCarefulJump",
        {"ammo": {"type": "PowerBomb", "count": 2}},
        {"or": [
          {"and": [
            "canCarefulJump",
            "canResetFallSpeed",
            {"heatFrames": 660}
          ]},
          {"and": [
            "canWalljump",
            {"heatFrames": 660},
            {"or": [
              "canWallJumpInstantMorph",
              {"acidFrames": 30}
            ]}
          ]},
          {"and": [
            "Gravity",
            {"heatFrames": 660},
            {"acidFrames": 30}
          ]},
          {"and": [
            "canTrickyJump",
            "canSuitlessLavaDive",
            {"heatFrames": 720},
            {"acidFrames": 52}
          ]}
        ]},
        {"or": [
          "canTrickyJump",
          {"and": [
            "Gravity",
            {"heatFrames": 180},
            {"acidFrames": 56}
          ]},
          {"and": [
            "canSuitlessLavaDive",
            {"heatFrames": 240},
            {"acidFrames": 96}
          ]}
        ]},
        {"or": [
          "h_heatResistant",
          "canPauseAbuse",
          {"resourceCapacity": [{"type": "RegularEnergy", "count": 149}]}
        ]}
      ],
      "reusableRoomwideNotable": "Lower Norfair Pillar Room with Two Power Bombs",
      "note": [
        "Place the PBs next to the pillars in order to only use 2.",
        "Minimize acid by unmorphing high to land back on the jump spot or walljumping before placing the bomb."
      ],
      "devNote": "With Reserves only, canPauseAbuse is used as a proxy for pause abuse or optimal reserve management and character movement."
    },
    {
      "link": [1, 2],
      "name": "Three Power Bombs",
      "notable": false,
      "requires": [
        "canCarefulJump",
        "Morph",
        {"ammo": {"type": "PowerBomb", "count": 3}},
        {"or": [
          "canTrickyJump",
          {"enemyDamage": {
            "enemy": "Puromi",
            "type": "contact",
            "hits": 1
          }}
        ]},
        {"heatFrames": 670},
        {"or": [
          "canTrickyJump",
          {"and": [
            "Gravity",
            {"heatFrames": 180},
            {"acidFrames": 56}
          ]},
          {"and": [
            "canSuitlessLavaDive",
            {"heatFrames": 240},
            {"acidFrames": 96}
          ]}
        ]},
        {"or": [
          "h_heatResistant",
          "canPauseAbuse",
          {"resourceCapacity": [{"type": "RegularEnergy", "count": 149}]}
        ]}
      ],
      "note": [
        "The power bombs can be placed pretty far from the next pillar in line.",
        "PB1 - Above the mound of dirt on the ground.  PB2 - On pillar 2 (not on the Puromi Fire Snake).  PB3 - Near pillar 5."
      ],
      "devNote": "With Reserves only, canPauseAbuse is used as a proxy for pause abuse or optimal reserve management and character movement."
    },
    {
      "link": [1, 2],
      "name": "Lower Norfair Pillar Room with Bombs (Left to Right)",
      "notable": true,
      "entranceCondition": {
        "comeInRunning": {
          "minTiles": 1,
          "speedBooster": "any"
        }
      },
      "requires": [
        "h_canUseMorphBombs",
        "canWallJumpInstantMorph",
        "canInsaneJump",
        "canResetFallSpeed",
        "canUnmorphBombBoost",
        "canSuitlessLavaDive",
        {"heatFrames": 1320},
        {"acidFrames": 128}
      ],
      "reusableRoomwideNotable": "Lower Norfair Pillar Room with Bombs",
      "note": [
        "Cross the Pillar Room with Bombs and minimal damage.",
        "Some acid damage is expected, but any mistakes greatly increases the time spent in acid."
      ]
    },
    {
      "link": [1, 2],
      "name": "Lower Norfair Pillar Room with Bombs, no WallJump (Left to Right)",
      "notable": true,
      "entranceCondition": {
        "comeInRunning": {
          "minTiles": 1,
          "speedBooster": "any"
        }
      },
      "requires": [
        "h_canUseMorphBombs",
        "Gravity",
        "canResetFallSpeed",
        "canJumpIntoIBJ",
        "canSuitlessLavaDive",
        {"enemyDamage": {
          "enemy": "Puromi",
          "type": "contact",
          "hits": 2
        }},
        {"heatFrames": 1440},
        {"acidFrames": 725}
      ],
      "reusableRoomwideNotable": "Lower Norfair Pillar Room with Bombs",
      "note": [
        "Cross the Pillar Room with Bombs and minimal damage.",
        "Acid damage is expected, but any mistakes greatly increases the time spent in acid."
      ]
    },
    {
      "link": [2, 1],
      "name": "Screw",
      "requires": [
        "canCarefulJump",
        "ScrewAttack",
        {"or": [
          {"and": [
            "canSuitlessLavaDive",
            {"heatFrames": 1800},
            {"acidFrames": 116}
          ]},
          {"and": [
            "Gravity",
            {"heatFrames": 1800},
            {"acidFrames": 48}
          ]}
        ]}
      ],
      "note": "Wait for the Puromis to pass so that Samus does not land on them."
    },
    {
      "link": [2, 1],
      "name": "Tricky Screw Jumps",
      "requires": [
        "canTrickyJump",
        "ScrewAttack",
        {"heatFrames": 530},
        {"or": [
          "canLateralMidAirMorph",
          {"and": [
            "canPreciseWalljump",
            {"heatFrames": 20},
            {"acidFrames": 10}
          ]},
          {"and": [
            {"heatFrames": 20},
            {"acidFrames": 24}
          ]}
        ]}
      ],
      "note": [
        "Break spin to leave some blocks intact in order to avoid damage from Puromis.",
        "Avoiding acid damage at the last jump is tricky but possible."
      ]
    },
    {
      "link": [2, 1],
      "name": "Very Tricky Screw Jumps",
      "requires": [
        "canInsaneJump",
        "ScrewAttack",
        {"heatFrames": 500}
      ],
      "note": [
        "Break spin to leave some blocks intact in order to avoid damage from Puromis.",
        "Avoiding acid damage at the last jump is tricky but possible."
      ]
    },
    {
      "link": [2, 1],
      "name": "Space Screw",
      "requires": [
        "ScrewAttack",
        "SpaceJump",
        {"heatFrames": 350}
      ],
      "note": "Break the half pillar near the entrance, then run back to use the longer runway that this opens up."
    },
    {
      "link": [2, 1],
      "name": "Blue Space Jump",
      "entranceCondition": {
        "comeInShinecharging": {
          "length": 2,
          "openEnd": 1
        }
      },
      "requires": [
        "canCarefulJump",
        "canBlueSpaceJump",
        {"heatFrames": 300}
      ],
      "devNote": [
        "This is considered faster than Space Screw because we can safely assume carried momentum from previous rooms.",
        "The heat frame count is conservative and assumes only the speed of a 4-tap."
      ]
    },
    {
      "link": [2, 1],
      "name": "Shinespark",
      "entranceCondition": {
        "comeInShinecharged": {
          "framesRequired": 15
        }
      },
      "requires": [
        "canMidairShinespark",
        {"shinespark": {"frames": 78, "excessFrames": 4}},
        {"heatFrames": 210}
      ],
      "note": "Jump before shinesparking to avoid an early crash."
    },
    {
      "link": [2, 1],
      "name": "Pillar Room with Two Power Bombs (Right to Left)",
      "notable": true,
      "requires": [
        "Morph",
        {"ammo": {"type": "PowerBomb", "count": 2}},
        "canCarefulJump",
        {"or": [
          {"and": [
            "canWallJumpInstantMorph",
            {"heatFrames": 690}
          ]},
          {"and": [
            "canWalljump",
            {"heatFrames": 660},
            {"acidFrames": 36}
          ]},
          {"and": [
            "canSuitlessLavaDive",
            {"heatFrames": 840},
            {"acidFrames": 84}
          ]},
          {"and": [
            "Gravity",
            {"heatFrames": 660},
            {"acidFrames": 24}
          ]}
        ]},
        {"or": [
          "canInsaneJump",
          {"and": [
            "canTrickyJump",
            "canLateralMidAirMorph",
            {"heatFrames": 10},
            {"acidFrames": 10}
           ]},
          {"and": [
            "canPreciseWalljump",
            {"heatFrames": 50},
            {"acidFrames": 32}
          ]},
          {"and": [
            "Gravity",
            {"heatFrames": 20},
            {"acidFrames": 20}
          ]},
          {"and": [
            "canSuitlessLavaDive",
            {"heatFrames": 50},
            {"acidFrames": 50}
          ]}
        ]},
        {"or": [
          "h_heatResistant",
          "canPauseAbuse",
          {"resourceCapacity": [{"type": "RegularEnergy", "count": 149}]}
        ]}
      ],
      "reusableRoomwideNotable": "Lower Norfair Pillar Room with Two Power Bombs",
      "note": [
        "Place the PBs next to the pillars in order to only use 2.",
        "Avoid acid during the first Power Bomb by walljumping before placing the bomb.",
        "Avoiding acid damage at the last jump is tricky but possible."
      ],
      "devNote": "With Reserves only, canPauseAbuse is used as a proxy for pause abuse or optimal reserve management and character movement."
    },
    {
      "link": [2, 1],
      "name": "Three Power Bombs",
      "requires": [
        "Morph",
        "canCarefulJump",
        {"ammo": {"type": "PowerBomb", "count": 3}},
        {"or": [
          {"and": [
            "canSuitlessLavaDive",
            {"heatFrames": 840},
            {"acidFrames": 206}
          ]},
          {"and": [
            "Gravity",
            {"heatFrames": 810},
            {"acidFrames": 55}
          ]}
        ]},
        {"or": [
          "h_heatResistant",
          "canPauseAbuse",
          {"resourceCapacity": [{"type": "RegularEnergy", "count": 149}]}
        ]}
      ],
      "note": [
        "The power bombs can be placed far from the next pillar in line.",
        "PB1 - Near the broken pillar.  PB2 - On the 2nd full pillar.  PB3 - On the 4th full pillar.",
        "Wait for the Puromis to avoid damage but wait too long and the acid will cover the door."
      ],
      "devNote": "With Reserves only, canPauseAbuse is used as a proxy for pause abuse or optimal reserve management and character movement."
    },
    {
      "link": [2, 1],
      "name": "Lower Norfair Pillar Room with Bombs (Right to Left)",
      "notable": true,
      "entranceCondition": {
        "comeInRunning": {
          "minTiles": 3,
          "speedBooster": "any"
        }
      },
      "requires": [
        "h_canUseMorphBombs",
        "canWallJumpInstantMorph",
        "canInsaneJump",
        "canResetFallSpeed",
        "canUnmorphBombBoost",
        "canHBJ",
        "canSuitlessLavaDive",
        {"heatFrames": 1320},
        {"acidFrames": 128}
      ],
      "reusableRoomwideNotable": "Lower Norfair Pillar Room with Bombs",
      "note": [
        "Cross the Pillar Room with Bombs and minimal damage.",
        "Some acid damage is expected, but any mistakes greatly increases the time spent in acid."
      ]
    },
    {
      "link": [2, 1],
      "name": "Lower Norfair Pillar Room with Bombs, no WallJump (Right to Left)",
      "notable": true,
      "entranceCondition": {
        "comeInRunning": {
          "minTiles": 3,
          "speedBooster": "any"
        }
      },
      "requires": [
        "h_canUseMorphBombs",
        "Gravity",
        "canResetFallSpeed",
        "canJumpIntoIBJ",
        "canSuitlessLavaDive",
        {"enemyDamage": {
          "enemy": "Puromi",
          "type": "contact",
          "hits": 2
        }},
        {"heatFrames": 1440},
        {"acidFrames": 725}
      ],
      "reusableRoomwideNotable": "Lower Norfair Pillar Room with Bombs",
      "note": [
        "Cross the Pillar Room with Bombs and minimal damage.",
        "Acid damage is expected, but any mistakes greatly increases the time spent in acid."
      ]
    },
    {
      "link": [2, 1],
      "name": "Grapple Teleport",
      "entranceCondition": {
        "comeInWithGrappleTeleport": {
          "blockPositions": [[7, 2]]
        }
      },
      "requires": [
        {"heatFrames": 50}
      ]
    },
    {
      "link": [2, 2],
      "name": "Leave With Runway",
      "entranceCondition": {
        "comeInNormally": {}
      },
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 4,
          "openEnd": 0
        }
      },
      "unlocksDoors": [
        {"types": ["missiles"], "requires": [{"heatFrames": 50}]},
        {"types": ["super"], "requires": []},
        {"types": ["powerbomb"], "requires": [{"heatFrames": 110}]}
      ]
    },
    {
      "link": [2, 2],
      "name": "Crystal Flash",
      "entranceCondition": {
        "comeInNormally": {}
      },
      "requires": [
        "h_canHeatedCrystalFlash",
        {"resetRoom": {
          "nodes": [2],
          "mustStayPut": false
        }}
      ]
    }
  ]
}
