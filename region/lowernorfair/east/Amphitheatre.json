{
  "$schema": "../../../schema/m3-room.schema.json",
  "id": 136,
  "name": "Amphitheatre",
  "area": "Norfair",
  "subarea": "Lower",
  "subsubarea": "East",
  "playable": true,
  "roomAddress": "0x7B4E5",
  "roomEnvironments": [{"heated": true}],
  "nodes": [
    {
      "id": 1,
      "name": "Left Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x0019996",
      "doorEnvironments": [
        {
          "physics": "air",
          "entranceNodes": [1],
          "note": "The acid can rise above this door when entering from node 1, but it's possible to have air physics"
        },
        {
          "physics": "acid",
          "entranceNodes": [2],
          "note": "When entering from node 2, this door is always submerged in acid"
        }
      ],
      "runways": [
        {
          "name": "Base Runway - Amphitheatre Left Door (to Writg)",
          "length": 0,
          "strats": [
            {
              "name": "Base",
              "notable": false,
              "requires": [
                "h_canNavigateHeatRooms",
                {"heatFrames": 100}
              ],
              "note": "Just using the open end of this 0-tile runway does take some maneuvering time."
            }
          ],
          "openEnd": 1
        }
      ],
      "spawnAt": 6
    },
    {
      "id": 2,
      "name": "Right Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x00199a2",
      "doorEnvironments": [{"physics": "air"}],
      "runways": [
        {
          "name": "Base Runway - Amphitheatre Right Door (to Red Kihunters)",
          "length": 15,
          "gentleUpTiles": 5,
          "strats": [
            {
              "name": "Base",
              "notable": false,
              "requires": [
                "h_canNavigateHeatRooms",
                {"heatFrames": 175}
              ]
            }
          ],
          "openEnd": 0
        },
        {
          "name": "Runway with no Enemies - Amphitheatre Right Door (to Red Kihunters)",
          "length": 19,
          "gentleUpTiles": 6,
          "strats": [
            {
              "name": "Heatproof Pirate Kill",
              "notable": false,
              "requires": [
                "h_heatProof",
                {"enemyKill": {
                  "enemies": [["Yellow Space Pirate (standing)"]],
                  "excludedWeapons": ["Bombs"]
                }}
              ]
            },
            {
              "name": "Quick Suitless Pirate Kill",
              "notable": false,
              "requires": [
                "h_canNavigateHeatRooms",
                {"heatFrames": 220},
                {"enemyKill": {
                  "enemies": [["Yellow Space Pirate (standing)"]],
                  "explicitWeapons": ["Super", "ScrewAttack"]
                }}
              ]
            },
            {
              "name": "Medium Suitless Pirate Kill",
              "notable": false,
              "requires": [
                "h_canNavigateHeatRooms",
                {"heatFrames": 450},
                {"enemyKill": {
                  "enemies": [["Yellow Space Pirate (standing)"]],
                  "explicitWeapons": ["Missile", "Charge+Plasma"]
                }}
              ]
            }
          ],
          "usableComingIn": false,
          "openEnd": 1,
          "note": "This longer runway requires taking out the Space Pirate."
        }
      ]
    },
    {
      "id": 3,
      "name": "Bottom Platform Junction",
      "nodeType": "junction",
      "nodeSubType": "junction"
    },
    {
      "id": 4,
      "name": "Center Floating Platforms Junction",
      "nodeType": "junction",
      "nodeSubType": "junction"
    },
    {
      "id": 5,
      "name": "Below Left Door Junction",
      "nodeType": "junction",
      "nodeSubType": "junction"
    },
    {
      "id": 6,
      "name": "Left Door Spawn At Junction",
      "nodeType": "junction",
      "nodeSubType": "junction"
    }
  ],
  "enemies": [
    {
      "id": "e1",
      "groupName": "Amphitheatre Top Pirate",
      "enemyName": "Yellow Space Pirate (standing)",
      "quantity": 1,
      "homeNodes": [2],
      "dropRequires": ["h_heatProof"]
    },
    {
      "id": "e2",
      "groupName": "Amphitheatre Bottom Left Acid Pirate",
      "enemyName": "Yellow Space Pirate (standing)",
      "quantity": 1,
      "betweenNodes": [3, 5],
      "dropRequires": ["never"],
      "note": "Technically you can get the drops but you likely won't"
    },
    {
      "id": "e3",
      "groupName": "Amphitheatre Bottom Center Acid Pirate",
      "enemyName": "Yellow Space Pirate (standing)",
      "quantity": 1,
      "homeNodes": [3],
      "dropRequires": ["never"],
      "note": "Technically you can get the drops but you likely won't"
    },
    {
      "id": "e4",
      "groupName": "Amphitheatre Right Acid Pirates",
      "enemyName": "Yellow Space Pirate (standing)",
      "quantity": 2,
      "betweenNodes": [3, 4],
      "dropRequires": ["never"],
      "note": "Technically you can get the drops but you likely won't"
    },
    {
      "id": "e5",
      "groupName": "Amphitheatre Center Platform Pirates",
      "enemyName": "Yellow Space Pirate (standing)",
      "quantity": 2,
      "homeNodes": [4],
      "dropRequires": ["never"],
      "note": "Technically you can get the drops but you likely won't"
    },
    {
      "id": "e6",
      "groupName": "Amphitheatre Top Left Pirates",
      "enemyName": "Yellow Space Pirate (standing)",
      "quantity": 2,
      "betweenNodes": [4, 2],
      "dropRequires": ["never"],
      "note": "Technically you can get the drops but you likely won't"
    }
  ],
  "obstacles": [
    {
      "id": "A",
      "name": "Room Not Filled With Acid",
      "obstacleType": "abstract",
      "note": "Entering trough the left door means there is time before the room fills with acid."
    }
  ],
  "reusableRoomwideNotable": [
    {
      "name": "Amphitheatre Reverse Acid Dive",
      "note": "Dive into the acid and get to the doorway high on the left wall. Note that you can wall jump climb in acid without gravity."
    }
  ],
  "links": [
    {
      "from": 1,
      "to": [
        {"id": 1},
        {"id": 6}
      ]
    },
    {
      "from": 2,
      "to": [
        {"id": 2},
        {"id": 3},
        {"id": 4},
        {"id": 5}
      ]
    },
    {
      "from": 3,
      "to": [
        {"id": 1},
        {"id": 4},
        {"id": 5}
      ]
    },
    {
      "from": 4,
      "to": [
        {"id": 1},
        {"id": 2},
        {"id": 3}
      ]
    },
    {
      "from": 5,
      "to": [
        {"id": 1}
      ]
    },
    {
      "from": 6,
      "to": [
        {"id": 1},
        {"id": 3},
        {"id": 4},
        {"id": 5}
      ]
    }
  ],
  "strats": [
    {
      "link": [1, 1],
      "name": "Crystal Flash",
      "requires": [
        {"obstaclesCleared": ["A"]},
        "h_canHeatedCrystalFlash"
      ],
      "devNote": "FIXME: Add Crystal Flash strats in the acid too."
    },
    {
      "link": [1, 6],
      "name": "Base",
      "requires": [],
      "clearsObstacles": ["A"]
    },
    {
      "link": [2, 2],
      "name": "Crystal Flash",
      "requires": [
        "h_canHeatedCrystalFlash"
      ]
    },
    {
      "link": [2, 3],
      "name": "Reverse Amphitheatre, Vertical Dive",
      "notable": true,
      "requires": [
        "h_canNavigateHeatRooms",
        "canSuitlessLavaDive",
        {"or": [
          "SpaceJump",
          "canTrickyJump",
          {"and": [
            "canLateralMidAirMorph",
            "canCarefulJump"
          ]},
          {"and": [
            "ScrewAttack",
            "canCarefulJump"
          ]},
          {"and": [
            "h_heatProof",
            {"enemyKill": {
              "enemies": [["Yellow Space Pirate (standing)"]]
            }},
            "canCarefulJump"
          ]}
        ]},
        {"heatFrames": 140},
        {"or": [
          "canResetFallSpeed",
          "canPreciseWalljump",
          {"and": [
            {"heatFrames": 60},
            {"acidFrames": 60}
          ]}
        ]},
        {"heatFrames": 330},
        {"acidFrames": 330}
      ],
      "reusableRoomwideNotable": "Amphitheatre Reverse Acid Dive",
      "note": [
        "Dive into the acid to the left of the first floating platform to quickly sink to the bottom of the room.",
        "It is possible to jump directly over the pirate at the bottom of the ramp directly to the gap between platforms.",
        "Falling in this way will land between platforms at the bottom of the room unless Samus slows or catches herself on the way down."
      ]
    },
    {
      "link": [2, 4],
      "name": "Reverse Amphitheatre Partial Dive",
      "notable": true,
      "requires": [
        "h_canNavigateHeatRooms",
        "canSuitlessLavaDive",
        {"heatFrames": 180},
        {"acidFrames": 80}
      ],
      "reusableRoomwideNotable": "Amphitheatre Reverse Acid Dive",
      "note": "Jump over the pirate and fall straight down to land on an upper-middle floating platform."
    },
    {
      "link": [2, 5],
      "name": "Reverse Amphitheatre Thread the Needle",
      "notable": true,
      "requires": [
        "h_canNavigateHeatRooms",
        "canTrickyJump",
        "canSuitlessLavaDive",
        {"or": [
          {"and": [
            "Charge",
            "Plasma",
            "canHitbox",
            {"or": [
              "ScrewAttack",
              {"heatFrames": 210}
            ]}
          ]},
          {"and": [
            "canSlowShortCharge",
            {"canComeInCharged": {
              "framesRemaining": 180,
              "fromNode": 2,
              "unusableTiles": 14
            }}
          ]}
        ]},
        {"heatFrames": 330},
        {"acidFrames": 210}
      ],
      "note": [
        "Jump directly from the top door's ramp, through the pirates, to the far bottom left of the acid filled room.",
        "Begin running from the top of the second slope and jump at the bottom of the third slope, bonking the large stalagtite in the ceiling.",
        "Kill the first pirate with Screw Attack or Charge+Plasma, and pass through the second pirate using a charged plasma shot.",
        "Alternatively, a very low speed shortcharge can run through both pirates.",
        "Enter the acid while aiming down to shrink Samus' hitbox.",
        "This strat works with all combinations of movement items and suits."
      ]
    },
    {
      "link": [3, 1],
      "name": "Amphitheatre Space Jump Acid Climb",
      "notable": true,
      "requires": [
        "h_canNavigateHeatRooms",
        "canSuitlessLavaDive",
        "Gravity",
        "SpaceJump",
        {"or": [
          {"and": [
            {"heatFrames": 330},
            {"acidFrames": 330}
          ]},
          {"and": [
            "HiJump",
            {"heatFrames": 220},
            {"acidFrames": 220}
          ]}
        ]}
      ],
      "reusableRoomwideNotable": "Amphitheatre Reverse Acid Dive",
      "note": "SpaceJump diagonally towards the door through the acid."
    },
    {
      "link": [3, 1],
      "name": "Amphitheatre Acid Stutter Shinespark",
      "notable": true,
      "requires": [
        "h_heatProof",
        "Gravity",
        "canSuitlessLavaDive",
        {"canShineCharge": {
          "usedTiles": 13,
          "openEnd": 1
        }},
        {"shinespark": {"frames": 55}},
        {"acidFrames": 600}
      ],
      "reusableRoomwideNotable": "Amphitheatre Reverse Acid Dive",
      "note": "There is just enough runway below the left door to build a shinespark.",
      "devNote": "This strat is only used to avoid walljumping."
    },
    {
      "link": [3, 1],
      "name": "Amphitheatre Speedy Gravity Jump",
      "notable": true,
      "requires": [
        "h_canNavigateHeatRooms",
        "HiJump",
        "canTrickyDashJump",
        "canGravityJump",
        {"enemyKill": {
          "enemies": [["Yellow Space Pirate (standing)"]],
          "explicitWeapons": ["ScrewAttack", "Super", "Charge+Plasma"]
        }},
        {"heatFrames": 390},
        {"acidFrames": 390}
      ],
      "reusableRoomwideNotable": "Amphitheatre Reverse Acid Dive",
      "note": [
        "Clear the runway by killing the pirate.",
        "Then Gravity jump after building as much run speed as possible."
      ],
      "devNote": [
        "This strat is only used to avoid walljumping.",
        "FIXME: Gravity heat reduction is disabled for part of this strat."
      ]
    },
    {
      "link": [3, 4],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        {"or": [
          {"and": [
            "canWalljump",
            {"heatFrames": 420}
          ]},
          {"and": [
            "HiJump",
            {"heatFrames": 360}
          ]},
          {"and": [
            "SpaceJump",
            {"heatFrames": 420}
          ]},
          {"and": [
            "canSpringBallJumpMidAir",
            "canCarefulJump",
            {"heatFrames": 520}
          ]}
        ]}
      ]
    },
    {
      "link": [3, 4],
      "name": "Tricky Jump",
      "requires": [
        "h_canNavigateHeatRooms",
        "canTrickyJump",
        {"heatFrames": 480}
      ],
      "note": "Between the two pirates there is a short runway that can be used to jump to the higher platform."
    },
    {
      "link": [3, 4],
      "name": "Frozen Pirate",
      "requires": [
        "h_canNavigateHeatRooms",
        "Charge",
        "canUseFrozenEnemies",
        "Plasma",
        {"heatFrames": 440}
      ],
      "note": "Freeze a pirate to use as a platform.  A very strong beam is required to stay out of the acid."
    },
    {
      "link": [3, 5],
      "name": "Amphitheatre Acid Hop",
      "notable": true,
      "requires": [
        "h_canNavigateHeatRooms",
        "canSuitlessLavaDive",
        {"or": [
          {"and": [
            "Gravity",
            {"heatFrames": 120},
            {"acidFrames": 120}
          ]},
          {"and": [
            {"heatFrames": 170},
            {"acidFrames": 170}
          ]}
        ]}
      ],
      "reusableRoomwideNotable": "Amphitheatre Reverse Acid Dive",
      "note": "Avoid the pirate while moving through the acid to get closer to the wall."
    },
    {
      "link": [4, 1],
      "name": "Reverse Amphitheatre SpaceJump",
      "notable": true,
      "requires": [
        "h_canNavigateHeatRooms",
        "Gravity",
        "SpaceJump",
        {"heatFrames": 360},
        {"acidFrames": 360}
      ],
      "reusableRoomwideNotable": "Amphitheatre Reverse Acid Dive",
      "note": [
        "Land on the fourth platform from the top and build some speed to spacejump across straight to the door.",
        "The optimal platform can be hit by simpily holding right when entering the acid."
      ],
      "devNote": "Includes a little bit extra frame count to drop down two platforms first."
    },
    {
      "link": [4, 2],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        {"or": [
          "canCarefulJump",
          "canPreciseWalljump",
          "ScrewAttack",
          "canSpringBallJumpMidAir",
          "SpaceJump",
          {"enemyDamage": {
            "enemy": "Yellow Space Pirate (standing)",
            "type": "contact",
            "hits": 2
          }}
        ]},
        {"heatFrames": 420}
      ],
      "note": "Jump over or kill the final pirate in front of the door."
    },
    {
      "link": [4, 2],
      "name": "HiJump",
      "requires": [
        "h_canNavigateHeatRooms",
        "HiJump",
        {"or": [
          "SpeedBooster",
          {"heatFrames": 90}
        ]},
        {"heatFrames": 270},
        {"or": [
          "canCarefulJump",
          "canLateralMidAirMorph",
          "ScrewAttack",
          {"and": [
            {"enemyKill": {
              "enemies": [["Yellow Space Pirate (standing)"]],
              "explicitWeapons": ["Charge+Ice+Wave+Spazer"]
            }},
            {"heatFrames": 240}
          ]},
          {"and": [
            {"enemyKill": {
              "enemies": [["Yellow Space Pirate (standing)"]],
              "explicitWeapons": ["Missile", "Charge+Plasma"]
            }},
            {"heatFrames": 120}
          ]},
          {"and": [
            {"enemyKill": {
              "enemies": [["Yellow Space Pirate (standing)"]],
              "explicitWeapons": ["Super"]
            }},
            {"heatFrames": 60}
          ]}
        ]}
      ]
    },
    {
      "link": [4, 2],
      "name": "Kill Pirates",
      "requires": [
        "h_canNavigateHeatRooms",
        {"or": [
          {"and": [
            {"enemyKill": {
              "enemies": [
                [
                  "Yellow Space Pirate (standing)",
                  "Yellow Space Pirate (standing)"
                ],
                ["Yellow Space Pirate (standing)"]
              ],
              "explicitWeapons": ["Charge+Ice+Wave+Spazer", "Missile"]
            }},
            {"heatFrames": 900}
          ]},
          {"and": [
            {"enemyKill": {
              "enemies": [
                [
                  "Yellow Space Pirate (standing)",
                  "Yellow Space Pirate (standing)"
                ],
                ["Yellow Space Pirate (standing)"]
              ],
              "explicitWeapons": ["Super", "Charge+Plasma"]
            }},
            {"heatFrames": 660}
          ]}
        ]}
      ]
    },
    {
      "link": [4, 3],
      "name": "Reverse Amphitheatre Continued Dive",
      "notable": true,
      "requires": [
        "h_canNavigateHeatRooms",
        {"or": [
          {"and": [
            "Gravity",
            {"heatFrames": 180},
            {"acidFrames": 180}
          ]},
          {"and": [
            {"heatFrames": 240},
            {"acidFrames": 240}
          ]}
        ]}
      ],
      "reusableRoomwideNotable": "Amphitheatre Reverse Acid Dive",
      "note": "Jump off the platform to the left with low horizontal speed and hold left to avoid landing on any pirates."
    },
    {
      "link": [5, 1],
      "name": "Amphitheatre Acid Wall Climb with Gravity",
      "notable": true,
      "requires": [
        "h_canNavigateHeatRooms",
        "Gravity",
        {"or": [
          {"and": [
            "HiJump",
            "canConsecutiveWalljump",
            {"heatFrames": 150},
            {"acidFrames": 150}
          ]},
          {"and": [
            "canConsecutiveWalljump",
            {"heatFrames": 210},
            {"acidFrames": 210}
          ]}
        ]}
      ],
      "reusableRoomwideNotable": "Amphitheatre Reverse Acid Dive",
      "note": "Climb to the top left door while in Acid."
    },
    {
      "link": [5, 1],
      "name": "Amphitheatre Acid Wall Climb without Gravity",
      "notable": true,
      "requires": [
        "h_canNavigateHeatRooms",
        "canConsecutiveWalljump",
        {"or": [
          {"and": [
            "HiJump",
            {"heatFrames": 280},
            {"acidFrames": 280}
          ]},
          {"and": [
            {"heatFrames": 400},
            {"acidFrames": 400}
          ]}
        ]}
      ],
      "reusableRoomwideNotable": "Amphitheatre Reverse Acid Dive",
      "note": "It is possible to walljump in acid without Gravity Suit."
    },
    {
      "link": [5, 1],
      "name": "Acidless",
      "requires": [
        "h_canNavigateHeatRooms",
        {"obstaclesCleared": ["A"]},
        {"or": [
          {"and": [
            "canConsecutiveWalljump",
            {"heatFrames": 300}
          ]},
          {"and": [
            "canConsecutiveWalljump",
            "HiJump",
            {"heatFrames": 240}
          ]},
          {"and": [
            "SpaceJump",
            {"heatFrames": 600}
          ]},
          {"and": [
            "SpaceJump",
            "HiJump",
            {"heatFrames": 390}
          ]}
        ]}
      ]
    },
    {
      "link": [5, 1],
      "name": "Amphitheatre Triple SpringBall Jump",
      "notable": true,
      "requires": [
        "h_heatProof",
        "canSuitlessLavaDive",
        "HiJump",
        "canCrouchJump",
        "canDoubleSpringBallJumpMidAir",
        "canTrickyJump",
        {"acidFrames": 330},
        {"acidFrames": 1000}
      ],
      "reusableRoomwideNotable": "Amphitheatre Reverse Acid Dive",
      "note": [
        "Acid allows for more time than water to perform Spring Ball jumps.",
        "This gives just barely enough time to fit in three spring ball jumps."
      ],
      "devNote": [
        "This strat is only used to avoid walljumping.",
        "1000 leniency frames for retries, and so this does not become the expected strat"
      ]
    },
    {
      "link": [5, 1],
      "name": "Amphitheatre Gravity Jump SpringBall Jump",
      "notable": true,
      "requires": [
        "h_canNavigateHeatRooms",
        "HiJump",
        "canTrickyJump",
        "canGravityJump",
        "h_canCrouchJumpDownGrab",
        "canSpringBallJumpMidAir",
        {"heatFrames": 600},
        {"acidFrames": 600}
      ],
      "reusableRoomwideNotable": "Amphitheatre Reverse Acid Dive",
      "note": [
        "Perform a gravity jump followed by a springball jump to reach the left side door.",
        "The gravity jump timing is very precise."
      ],
      "devNote": [
        "This strat is only used to avoid walljumping.",
        "FIXME: Gravity heat reduction is disabled for part of this strat."
      ]
    },
    {
      "link": [6, 1],
      "name": "SpinJump Entry",
      "requires": [
        "h_canNavigateHeatRooms",
        "canPrepareForNextRoom",
        {"or": [
          "SpaceJump",
          "canWalljump",
          "canTrickyJump",
          "canStationarySpinJump"
        ]},
        {"heatFrames": 80}
      ],
      "clearsObstacles": ["A"]
    },
    {
      "link": [6, 3],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        {"or": [
          "ScrewAttack",
          {"heatFrames": 60}
        ]},
        {"heatFrames": 300}
      ],
      "clearsObstacles": ["A"],
      "note": [
        "Falling into the room while holding right is safe at low horizontal speed.",
        "Pirates can be shot with any weapon to prevent them from firing."
      ]
    },
    {
      "link": [6, 3],
      "name": "Careful Movement",
      "requires": [
        "h_canNavigateHeatRooms",
        "canCarefulJump",
        {"or": [
          {"adjacentRunway": {
            "fromNode": 1,
            "usedTiles": 3,
            "physics": ["normal"]
          }},
          {"heatFrames": 60}
        ]},
        {"heatFrames": 240}
      ],
      "clearsObstacles": ["A"],
      "note": [
        "Entering with 3 tiles of run speed will let Samus pass under the ceiling and over the bottom center pirate.",
        "Pirates can be shot with any weapon to prevent them from firing."
      ]
    },
    {
      "link": [6, 4],
      "name": "SpaceJump",
      "requires": [
        "h_canNavigateHeatRooms",
        "canPrepareForNextRoom",
        "SpaceJump",
        {"heatFrames": 500}
      ],
      "clearsObstacles": ["A"]
    },
    {
      "link": [6, 5],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 180}
      ],
      "clearsObstacles": ["A"]
    }
  ]
}
