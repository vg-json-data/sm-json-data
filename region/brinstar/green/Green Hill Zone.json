{
  "$schema": "../../../schema/m3-room.schema.json",
  "id": 54,
  "name": "Green Hill Zone",
  "area": "Brinstar",
  "subarea": "Green",
  "playable": true,
  "roomAddress": "0x79E52",
  "roomEnvironments": [{"heated": false}],
  "nodes": [
    {
      "id": 1,
      "name": "Top Left Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x0018e7a",
      "doorEnvironments": [{"physics": "air"}]
    },
    {
      "id": 2,
      "name": "Top Right Door",
      "nodeType": "door",
      "nodeSubType": "yellow",
      "nodeAddress": "0x0018e86",
      "doorEnvironments": [{"physics": "air"}],
      "locks": [
        {
          "name": "Green Hill Yellow Lock (to Morph Ball)",
          "lockType": "coloredDoor",
          "unlockStrats": [
            {
              "name": "Base",
              "notable": false,
              "requires": [
                "h_canOpenYellowDoors"
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 3,
      "name": "Bottom Right Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x0018e92",
      "doorEnvironments": [{"physics": "air"}],
      "leaveWithGModeSetup": [
        {"strats": [
          {
            "name": "Get Hit By Sidehopper",
            "notable": false,
            "requires": []
          }
        ]}
      ],
      "gModeImmobile": {
        "requires": [
          {"enemyDamage": {
            "enemy": "Sm. Sidehopper",
            "type": "contact",
            "hits": 1
          }}
        ]
      }
    },
    {
      "id": 4,
      "name": "Item (Through the Pipe)",
      "nodeType": "item",
      "nodeSubType": "visible",
      "nodeItem": "Missile",
      "nodeAddress": "0x78676",
      "devNote": "Z3M3: Pink Brin"
    }
  ],
  "obstacles": [
    {
      "id": "A",
      "name": "G-Mode Morph: Remote Acquire the item",
      "obstacleType": "abstract"
    }
  ],
  "enemies": [
    {
      "id": "e1",
      "groupName": "Green Hill Zone Top Geega",
      "enemyName": "Geega",
      "quantity": 1,
      "homeNodes": [1],
      "farmCycles": [
        {
          "name": "Single Geega Farm",
          "cycleFrames": 160,
          "requires": []
        }
      ]
    },
    {
      "id": "e2",
      "groupName": "Green Hill Zone Top-Middle Geega",
      "enemyName": "Geega",
      "quantity": 1,
      "homeNodes": [1],
      "farmCycles": [
        {
          "name": "Single Geega Farm",
          "cycleFrames": 160,
          "requires": []
        }
      ]
    },
    {
      "id": "e3",
      "groupName": "Green Hill Zone Middle Geega",
      "enemyName": "Geega",
      "quantity": 1,
      "homeNodes": [1],
      "farmCycles": [
        {
          "name": "Single Geega Farm",
          "cycleFrames": 160,
          "requires": []
        }
      ]
    },
    {
      "id": "e4",
      "groupName": "Green Hill Zone Bottom-Middle Geega",
      "enemyName": "Geega",
      "quantity": 1,
      "homeNodes": [1],
      "farmCycles": [
        {
          "name": "Single Geega Farm",
          "cycleFrames": 160,
          "requires": []
        }
      ]
    },
    {
      "id": "e5",
      "groupName": "Green Hill Zone Bottom Geega",
      "enemyName": "Geega",
      "quantity": 1,
      "homeNodes": [1],
      "farmCycles": [
        {
          "name": "Single Geega Farm",
          "cycleFrames": 160,
          "requires": []
        }
      ]
    },
    {
      "id": "e6",
      "groupName": "Green Hill Zone Left Small Sidehoppers",
      "enemyName": "Sm. Sidehopper",
      "quantity": 2,
      "homeNodes": [1]
    },
    {
      "id": "e7",
      "groupName": "Green Hill Zone Right Small Sidehoppers",
      "enemyName": "Sm. Sidehopper",
      "quantity": 3,
      "homeNodes": [3]
    }
  ],
  "reusableRoomwideNotable": [
    {
      "name": "Green Hill Zone Tunnel Crawl",
      "note": "It's a long Tunnel Crawl, so there's a heavy softlock risk."
    },
    {
      "name": "Green Hill Zone X-Ray Wiggle",
      "note": [
        "It's a long Wiggle, but you can see the item before going in too far.",
        "Spin jumping directly into the tube will disable X-Ray, so enter aiming down to standup first."
      ]
    }
  ],
  "links": [
    {
      "from": 1,
      "to": [
        {"id": 1},
        {"id": 2},
        {"id": 3},
        {"id": 4}
      ]
    },
    {
      "from": 2,
      "to": [
        {"id": 1},
        {"id": 2},
        {"id": 4}
      ]
    },
    {
      "from": 3,
      "to": [
        {"id": 1},
        {"id": 2},
        {"id": 3},
        {"id": 4}
      ]
    },
    {
      "from": 4,
      "to": [
        {"id": 1},
        {"id": 2}
      ]
    }
  ],
  "strats": [
    {
      "link": [1, 1],
      "name": "Leave With Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 3,
          "openEnd": 1
        }
      }
    },
    {
      "link": [1, 1],
      "name": "Geega Farm",
      "requires": [
        {"refill": ["Energy", "Missile", "Super"]}
      ]
    },
    {
      "link": [1, 2],
      "name": "Base",
      "requires": [
        {"or": [
          "h_canFly",
          "HiJump",
          "canSpringBallJumpMidAir",
          {"and": [
            "SpeedBooster",
            "canWalljump"
          ]}
        ]}
      ]
    },
    {
      "link": [1, 2],
      "name": "Green Hill Zone Wall Jump to Top Right Door",
      "notable": true,
      "requires": [
        "canPreciseWalljump"
      ],
      "note": "Wall jump on the top half of the Geega pipe, then on the overhang."
    },
    {
      "link": [1, 2],
      "name": "Use Frozen Enemy",
      "requires": [
        "canUseFrozenEnemies"
      ]
    },
    {
      "link": [1, 2],
      "name": "Shinespark",
      "requires": [
        {"canShineCharge": {
          "usedTiles": 18,
          "openEnd": 1
        }},
        {"shinespark": {"frames": 9, "excessFrames": 5}}
      ]
    },
    {
      "link": [1, 2],
      "name": "G-Mode Morph",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [1],
          "mode": "any",
          "artificialMorph": true
        }},
        {"or": [
          "h_canArtificialMorphIBJ",
          "h_canArtificialMorphSpringBallBombJump"
        ]}
      ],
      "note": "Kill or spring ball over the first bug. IBJ or bomb boost spring ball jump up to the door."
    },
    {
      "link": [1, 3],
      "name": "Base",
      "requires": []
    },
    {
      "link": [1, 3],
      "name": "Leave Shinecharged (Open Gate)",
      "requires": [
        {"canShineCharge": {
          "usedTiles": 30,
          "openEnd": 0
        }},
        "canShinechargeMovement"
      ],
      "exitCondition": {
        "leaveShinecharged": {
          "framesRemaining": 120
        }
      }
    },
    {
      "link": [1, 4],
      "name": "Base",
      "requires": [
        "Morph",
        {"or": [
          "HiJump",
          "h_canFly",
          "canWalljump",
          "canUseFrozenEnemies"
        ]}
      ]
    },
    {
      "link": [1, 4],
      "name": "Turnaround Aim Cancel",
      "requires": [
        "canTurnaroundAimCancel",
        {"or": [
          "HiJump",
          "h_canFly",
          "canWalljump",
          "canUseFrozenEnemies"
        ]}
      ],
      "note": "It takes Morph or a Tunnel Crawl to get back out."
    },
    {
      "link": [1, 4],
      "name": "Green Hill Zone X-Ray Wiggle (In)",
      "notable": true,
      "requires": [
        "canTwoTileSqueeze",
        "canXRayTurnaround",
        {"or": [
          "HiJump",
          "h_canFly",
          "canWalljump",
          "canUseFrozenEnemies"
        ]}
      ],
      "reusableRoomwideNotable": "Green Hill Zone X-Ray Wiggle",
      "note": [
        "It's a long Wiggle, but you can see the item before going in too far.",
        "Spin jumping directly into the tube will disable X-Ray, so enter aiming down to standup first."
      ]
    },
    {
      "link": [1, 4],
      "name": "Green Hill Zone Tunnel Crawl (In)",
      "notable": true,
      "requires": [
        "canTunnelCrawl",
        {"or": [
          "HiJump",
          "h_canFly",
          "canWalljump",
          "canUseFrozenEnemies"
        ]}
      ],
      "reusableRoomwideNotable": "Green Hill Zone Tunnel Crawl",
      "note": "It's a long Tunnel Crawl, so there's a heavy softlock risk."
    },
    {
      "link": [1, 4],
      "name": "G-Mode Morph",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [1],
          "mode": "any",
          "artificialMorph": true
        }},
        {"or": [
          "h_canArtificialMorphIBJ",
          "h_canArtificialMorphSpringBallBombJump",
          {"and": [
            "HiJump",
            "SpringBall"
          ]}
        ]}
      ],
      "note": "Roll under the first bug, wait for the second to spawn before rolling off the ledge. IBJ, bomb boost spring ball jump, or HiJump Spring Fling into the pipe.",
      "devNote": "FIXME: Add springFling tech."
    },
    {
      "link": [1, 4],
      "name": "G-Mode Morph Remote Acquire",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [1],
          "mode": "direct",
          "artificialMorph": true
        }},
        {"or": [
          "h_canArtificialMorphIBJ",
          "h_canArtificialMorphSpringBallBombJump"
        ]}
      ],
      "clearsObstacles": ["A"],
      "note": "Roll under the first bug, wait for the second to spawn before rolling off the ledge. IBJ or bomb boost spring ball jump into the pipe."
    },
    {
      "link": [2, 1],
      "name": "Base",
      "requires": []
    },
    {
      "link": [2, 2],
      "name": "Leave With Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 11,
          "openEnd": 1
        }
      }
    },
    {
      "link": [2, 2],
      "name": "Crystal Flash",
      "requires": [
        "h_canCrystalFlash"
      ]
    },
    {
      "link": [2, 4],
      "name": "G-Mode Morph",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [2],
          "mode": "any",
          "artificialMorph": true
        }},
        {"or": [
          "h_canArtificialMorphIBJ",
          "h_canArtificialMorphSpringBallBombJump"
        ]}
      ],
      "note": "Fall past the first bug, wait for the second to spawn before rolling off the ledge. IBJ or bomb boost spring ball jump into the pipe."
    },
    {
      "link": [2, 4],
      "name": "G-Mode Morph Remote Acquire",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [2],
          "mode": "direct",
          "artificialMorph": true
        }},
        {"or": [
          "h_canArtificialMorphIBJ",
          "h_canArtificialMorphSpringBallBombJump",
          {"and": [
            "HiJump",
            "SpringBall"
          ]}
        ]}
      ],
      "clearsObstacles": ["A"],
      "note": "Fall past the first bug, wait for the second to spawn before rolling off the ledge. IBJ, bomb boost spring ball jump, or HiJump Spring Fling into the pipe."
    },
    {
      "link": [3, 1],
      "name": "Wave",
      "requires": [
        "Wave"
      ]
    },
    {
      "link": [3, 1],
      "name": "Gate Glitch",
      "requires": [
        "h_canBlueGateGlitch"
      ]
    },
    {
      "link": [3, 1],
      "name": "Green Hills Grapple Gate Glitch",
      "notable": true,
      "requires": [
        "Grapple",
        "SpeedBooster",
        "canTrickyJump",
        "canBePatient"
      ],
      "note": [
        "Build up some run speed and then extend the Grapple Beam through the Blue Gate, while jumping, to open it from the wrong side.",
        "This may take many attempts."
      ]
    },
    {
      "link": [3, 1],
      "name": "G-Mode Indirect Despawn Gate",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [3],
          "mode": "indirect",
          "artificialMorph": false
        }}
      ]
    },
    {
      "link": [3, 2],
      "name": "G-Mode Morph Indirect Despawn Gate - To the Top Right Door",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [3],
          "mode": "indirect",
          "artificialMorph": true
        }},
        {"or": [
          "canTrickyJump",
          {"and": [
            "Bombs",
            {"ammo": {"type": "PowerBomb", "count": 1}}
          ]},
          {"ammo": {"type": "PowerBomb", "count": 3}}
        ]},
        {"or": [
          "h_canArtificialMorphIBJ",
          {"and": [
            "canSpringBallBombJump",
            {"or": [
              "Bombs",
              {"ammo": {"type": "PowerBomb", "count": 2}}
            ]}
          ]}
        ]}
      ],
      "note": [
        "Use a Power Bombs to kill the first three hoppers,",
        "or carefully dodge them by quickly rolling between the first two tall flowers and waiting for the hopper to jump over Samus.",
        "The middle hopper can be killed safely with many Bombs by staying on the top left of the raised ground,",
        "without overhanging or the hopper can hit Samus. Alternatively, lure and spring ball jump past it.",
        "Killing the bugs in their pipes is possible without getting hit, or use spring ball to jump past them.",
        "Once the bugs are killed once they will stop respawning.",
        "The last hopper can be carefully killed with Bombs, killed with a Power Bomb, or dodged and lured off the edge.",
        "IBJ or bomb boost spring ball jump up to the top right door."
      ],
      "devNote": "The canTrickyJump is used for rolling into a precise location, dodging hoppers while rolling, and spring ball jumping past enemies."
    },
    {
      "link": [3, 3],
      "name": "Leave With Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 4,
          "openEnd": 1
        }
      }
    },
    {
      "link": [3, 3],
      "name": "Leave Shinecharged",
      "requires": [
        {"canShineCharge": {
          "usedTiles": 22,
          "openEnd": 0
        }},
        "canShinechargeMovement"
      ],
      "exitCondition": {
        "leaveShinecharged": {
          "framesRemaining": 120
        }
      }
    },
    {
      "link": [3, 3],
      "name": "Crystal Flash",
      "requires": [
        "h_canCrystalFlash"
      ]
    },
    {
      "link": [3, 4],
      "name": "G-Mode Morph Indirect Despawn Gate - Into the Pipe",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [3],
          "mode": "indirect",
          "artificialMorph": true
        }},
        {"or": [
          "canTrickyJump",
          {"and": [
            "Bombs",
            {"ammo": {"type": "PowerBomb", "count": 1}}
          ]},
          {"ammo": {"type": "PowerBomb", "count": 3}}
        ]},
        {"or": [
          "h_canArtificialMorphIBJ",
          "h_canArtificialMorphSpringBallBombJump",
          {"and": [
            "HiJump",
            "SpringBall"
          ]}
        ]}
      ],
      "note": [
        "Use a Power Bombs to kill the first three hoppers,",
        "or carefully dodge them by quickly rolling between the first two tall flowers and waiting for the hopper to jump over Samus.",
        "The middle hopper can be killed safely with many Bombs by staying on the top left of the raised ground,",
        "without overhanging or the hopper can hit Samus. Alternatively, lure and spring ball jump past it.",
        "Killing the bugs in their pipes is possible without getting hit, or use spring ball to jump past them.",
        "Once the bugs are killed once they will stop respawning.",
        "The last hopper can be carefully killed with Bombs, or killed with a Power Bomb, or dodged and lured off the edge.",
        "IBJ, bomb boost spring ball jump, or HiJump Spring Fling up to the pipe."
      ],
      "devNote": [
        "The canTrickyJump is used for rolling into a precise location, dodging hoppers while rolling, and spring ball jumping past enemies.",
        "This cannot be used to obtain the item remotely, as the item only spawns in direct g-mode."
      ]
    },
    {
      "link": [4, 1],
      "name": "Base",
      "requires": [
        "Morph"
      ]
    },
    {
      "link": [4, 1],
      "name": "Green Hill Zone X-Ray Wiggle (Out)",
      "notable": true,
      "requires": [
        "canXRayTurnaround"
      ],
      "reusableRoomwideNotable": "Green Hill Zone X-Ray Wiggle",
      "note": "It's a long Wiggle, but you can see the item before going in too far."
    },
    {
      "link": [4, 1],
      "name": "Green Hill Zone Tunnel Crawl (Out)",
      "notable": true,
      "requires": [
        "canTunnelCrawl"
      ],
      "reusableRoomwideNotable": "Green Hill Zone Tunnel Crawl",
      "note": "It's a long Tunnel Crawl, so there's a heavy softlock risk."
    },
    {
      "link": [4, 1],
      "name": "G-mode Morph Remote Acquire",
      "requires": [
        {"obstaclesCleared": ["A"]}
      ],
      "note": "While in g-mode, touch the item, roll out of the pipe, then exit g-mode to obtain the item."
    },
    {
      "link": [4, 2],
      "name": "G-mode Morph Remote Acquire at the Top Right Door",
      "requires": [
        {"obstaclesCleared": ["A"]},
        {"or": [
          "h_canArtificialMorphIBJ",
          {"and": [
            "canSpringBallBombJump",
            {"or": [
              "Bombs",
              {"ammo": {"type": "PowerBomb", "count": 2}}
            ]}
          ]}
        ]}
      ],
      "note": "While in g-mode, touch the item, roll out of the pipe, then get to the top right door before exiting g-mode and obtaining the item."
    }
  ]
}
