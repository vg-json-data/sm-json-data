{
  "$schema": "../../../schema/m3-room.schema.json",
  "id": 66,
  "name": "Red Tower",
  "area": "Brinstar",
  "subarea": "Red",
  "playable": true,
  "roomAddress": "0x7A253",
  "roomEnvironments": [{"heated": false}],
  "nodes": [
    {
      "id": 1,
      "name": "Top Left Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x001902a",
      "doorEnvironments": [{"physics": "air"}],
      "leaveWithGModeSetup": [
        {
          "knockback": false,
          "strats": [
            {
              "name": "Get Hit By Beetom",
              "notable": false,
              "requires": [
                {"enemyDamage": {
                  "enemy": "Beetom",
                  "type": "contact",
                  "hits": 5
                }}
              ],
              "devNote": "Some items may reduce the number of Beetom hits, but it's irrelevant since there is an accesible farm in-room."
            }
          ]
        }
      ]
    },
    {
      "id": 2,
      "name": "Middle Left Door (Behind Power Bomb Blocks)",
      "nodeType": "door",
      "nodeSubType": "yellow",
      "nodeAddress": "0x0019036",
      "doorEnvironments": [{"physics": "air"}],
      "leaveWithGModeSetup": [
        {
          "knockback": false,
          "strats": [
            {
              "name": "Get Hit By Beetom",
              "notable": false,
              "requires": [
                {"obstaclesNotCleared": ["A"]},
                "h_canUsePowerBombs",
                {"enemyDamage": {
                  "enemy": "Beetom",
                  "type": "contact",
                  "hits": 1
                }}
              ],
              "note": [
                "Either place a Power Bomb on the ledge with the Geega bug farms, to only break the top row of blocks and not kill the Beetom,",
                "or move the Beetom to safety by shaking it off at a higher platform before breaking the Power Bomb blocks."
              ],
              "devNote": "Obstacle A cannot already be broken, because otherwise the Beetom will already be killed."
            }
          ]
        }
      ],
      "locks": [
        {
          "name": "Red Tower Yellow Lock (to Firefleas)",
          "lockType": "coloredDoor",
          "unlockStrats": [
            {
              "name": "Base",
              "notable": false,
              "requires": [
                "h_canOpenYellowDoors"
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 3,
      "name": "Bottom Left Door",
      "nodeType": "door",
      "nodeSubType": "green",
      "nodeAddress": "0x001904e",
      "doorEnvironments": [{"physics": "air"}],
      "leaveWithGModeSetup": [
        {
          "knockback": false,
          "strats": [
            {
              "name": "Get Hit By Beetom",
              "notable": false,
              "requires": [
                {"or": [
                  {"and": [
                    "canUseFrozenEnemies",
                    {"or": [
                      "HiJump",
                      "canWalljump",
                      "canSpringBallJumpMidAir",
                      "h_canIBJ"
                    ]}
                  ]},
                  "SpaceJump",
                  {"and": [
                    "HiJump",
                    "canConsecutiveWalljump"
                  ]}
                ]},
                {"enemyDamage": {
                  "enemy": "Beetom",
                  "type": "contact",
                  "hits": 5
                }}
              ],
              "devNote": [
                "Some items may reduce the number of Beetom hits, but it's irrelevant since there is an accesible farm in-room.",
                "FIXME: There are many missing ways to get up to the Beetom, also most of these requirements can be removed once this strat is moved from 1->3."
              ]
            }
          ]
        }
      ],
      "locks": [
        {
          "name": "Sloaters Refill Green Lock (to Sloaters Refill)",
          "lockType": "coloredDoor",
          "unlockStrats": [
            {
              "name": "Base",
              "notable": false,
              "requires": [
                "h_canOpenGreenDoors"
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 4,
      "name": "Bottom Right Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x0019042",
      "doorEnvironments": [{"physics": "air"}],
      "leaveWithGModeSetup": [
        {
          "knockback": false,
          "strats": [
            {
              "name": "Get Hit By Beetom",
              "notable": false,
              "requires": [
                {"or": [
                  {"and": [
                    "canUseFrozenEnemies",
                    {"or": [
                      "HiJump",
                      "canWalljump",
                      "canSpringBallJumpMidAir",
                      "h_canIBJ"
                    ]}
                  ]},
                  "SpaceJump",
                  {"and": [
                    "HiJump",
                    "canConsecutiveWalljump"
                  ]}
                ]},
                {"enemyDamage": {
                  "enemy": "Beetom",
                  "type": "contact",
                  "hits": 5
                }}
              ],
              "devNote": [
                "Some items may reduce the number of Beetom hits, but it's irrelevant since there is an accesible farm in-room.",
                "FIXME: There are many missing ways to get up to the Beetom, also most of these requirements can be removed once this strat is moved from 1->4."
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 5,
      "name": "Top Right Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x001901e",
      "doorEnvironments": [{"physics": "air"}],
      "leaveWithGModeSetup": [
        {
          "knockback": false,
          "strats": [
            {
              "name": "Get Hit By Beetom",
              "notable": false,
              "requires": [
                "HiJump",
                {"or": [
                  "canUseFrozenEnemies",
                  {"and": [
                    "SpaceJump",
                    {"obstaclesCleared": ["B"]}
                  ]},
                  {"and": [
                    "canConsecutiveWalljump",
                    {"obstaclesCleared": ["B"]}
                  ]}
                ]},
                {"enemyDamage": {
                  "enemy": "Beetom",
                  "type": "contact",
                  "hits": 9
                }}
              ],
              "note": [
                "Without any suits or tanks, Samus will need to move the Beetom part way up the room, shake it off, and go back and farm multiple times.",
                "While the Beetom is near the top section, by the Rippers, shake the Beetom off, and re-grab it and ascend the shaft.",
                "Either use frozen Rippers as platforms, while shooting diagonally to prevent freezing the Beetom, or kill the Rippers before ascending.",
                "Be careful not to apply too many inputs after grabbing the Beetom in order to get to the top before it is shaken off."
              ],
              "devNote": [
                "Some items may reduce the number of Beetom hits, but it's irrelevant since there is an accesible farm in-room.",
                "FIXME: Add more options for how to ascend the shaft, either without HiJump, or without killing the Rippers. These may need to be notable."
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 6,
      "name": "Junction (Above Bottom Rippers)",
      "nodeType": "junction",
      "nodeSubType": "junction",
      "note": "This is under the orange door, below the shot blocks, but above the bottom climb"
    },
    {
      "id": 7,
      "name": "Junction (Bottom Rippers)",
      "nodeType": "junction",
      "nodeSubType": "junction",
      "note": "This is meant to contain all Rippers in the bottom climb except the bottom one"
    },
    {
      "id": 8,
      "name": "Junction (Below Bottom Rippers)",
      "nodeType": "junction",
      "nodeSubType": "junction"
    },
    {
      "id": 9,
      "name": "Junction (Top Rippers)",
      "nodeType": "junction",
      "nodeSubType": "junction",
      "note": "This is meant to contain all Rippers in the top climb except the bottom one"
    }
  ],
  "obstacles": [
    {
      "id": "A",
      "name": "Power Bomb Blocks",
      "obstacleType": "inanimate"
    },
    {
      "id": "B",
      "name": "Top of Tower Rippers",
      "obstacleType": "enemies"
    }
  ],
  "enemies": [
    {
      "id": "e1",
      "groupName": "Red Tower Geegas",
      "enemyName": "Geega",
      "quantity": 2,
      "homeNodes": [1],
      "farmCycles": [
        {
          "name": "Alternating Geega Pipes",
          "cycleFrames": 180,
          "requires": [],
          "note": "Standing on the platform next to the right spawner, must jump to get Geegas to spawn from the left one."
        }
      ]
    },
    {
      "id": "e2",
      "groupName": "Red Tower Beetom",
      "enemyName": "Beetom",
      "quantity": 1,
      "betweenNodes": [1, 2]
    },
    {
      "id": "e3",
      "groupName": "Red Tower Middle Rippers",
      "enemyName": "Ripper",
      "quantity": 3,
      "homeNodes": [7]
    },
    {
      "id": "e4",
      "groupName": "Red Tower Bottom Ripper",
      "enemyName": "Ripper",
      "quantity": 1,
      "homeNodes": [8]
    },
    {
      "id": "e5",
      "groupName": "Red Tower Top rippers",
      "enemyName": "Ripper",
      "quantity": 4,
      "homeNodes": [9]
    }
  ],
  "reusableRoomwideNotable": [
    {
      "name": "Red Tower R-Mode Frozen Beetom X-Ray Climb",
      "note": [
        "Gain R-mode while entering the room.",
        "Use the respawning bugs to refill reserve energy.",
        "Get grabbed by the Beetom and carry it to the 4-tile high gap one screen above the bottom-left door.",
        "Position Samus one pixel to the right of being against the wall.",
        "Jump and aim down, reaching the ceiling at the same time that reserves are triggered.",
        "This will force Samus to stand up, briefly clipping into the wall above.",
        "Immediately freeze the Beetom inside the wall, by buffering a shot during the reserve trigger.",
        "Use a Ripper to get knocked back onto the frozen Beetom.",
        "This will clip Samus one pixel left into the wall, making it possible to X-ray climb.",
        "X-ray climb up 2 screens."
      ]
    },
    {
      "name": "Red Tower Spark",
      "note": [
        "Come in shinecharged (or shinecharging) from the top left door. With missiles selected, position Samus roughly in the horizontal center of the room.",
        "Crouch, aim up, then in very quick succession, shoot a missile upwards then spark up.",
        "If done correctly, Samus will pass the Missile, break the bomb block platforms, then be passed by the Missile which will break the shot blocks at the top."
      ]
    }
  ],
  "links": [
    {
      "from": 1,
      "to": [
        {"id": 1},
        {"id": 2},
        {"id": 3},
        {"id": 4},
        {
          "id": 5,
          "note": "Direct link for shinespark. Other strats should go 1 -> 9 -> 5."
        },
        {"id": 6},
        {"id": 9}
      ]
    },
    {
      "from": 2,
      "to": [
        {"id": 1},
        {"id": 2}
      ]
    },
    {
      "from": 3,
      "to": [
        {"id": 3},
        {"id": 6},
        {
          "id": 7,
          "note": "This link is only for sparking. Other strats go 8 -> 7."
        },
        {"id": 8}
      ]
    },
    {
      "from": 4,
      "to": [
        {"id": 4},
        {
          "id": 6,
          "note": "This link is only for sparking. Other strats go 8 -> 7 -> 6."
        },
        {
          "id": 7,
          "note": "This link is only for sparking. Other strats go 8 -> 7."
        },
        {"id": 8}
      ]
    },
    {
      "from": 5,
      "to": [
        {"id": 5},
        {"id": 9}
      ]
    },
    {
      "from": 6,
      "to": [
        {"id": 1},
        {"id": 7}
      ]
    },
    {
      "from": 7,
      "to": [
        {"id": 6},
        {"id": 8}
      ]
    },
    {
      "from": 8,
      "to": [
        {"id": 2},
        {"id": 3},
        {"id": 4},
        {"id": 7},
        {"id": 8}
      ]
    },
    {
      "from": 9,
      "to": [
        {"id": 1},
        {"id": 5}
      ]
    }
  ],
  "strats": [
    {
      "link": [1, 1],
      "name": "Geega and Beetom Farm",
      "requires": [
        {"or": [
          "ScrewAttack",
          "h_canUseMorphBombs",
          {"resourceCapacity": [{"type": "Missile", "count": 1}]},
          {"resourceCapacity": [{"type": "Super", "count": 1}]}
        ]},
        {"refill": ["Energy", "Missile", "Super", "PowerBomb"]}
      ]
    },
    {
      "link": [1, 1],
      "name": "Geega Farm",
      "requires": [
        {"refill": ["Energy", "Missile", "Super"]}
      ]
    },
    {
      "link": [1, 1],
      "name": "Leave With Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 11,
          "openEnd": 1
        }
      },
      "devNote": "Assume no broken runway tiles since there is never a reason to break them."
    },
    {
      "link": [1, 1],
      "name": "Leave with Moondance",
      "requires": [
        "canMoondance",
        "canTrickyUseFrozenEnemies",
        {"enemyDamage": {
          "enemy": "Beetom",
          "type": "contact",
          "hits": 4
        }}
      ],
      "exitCondition": {
        "leaveWithStoredFallSpeed": {
          "fallSpeedInTiles": 1
        }
      },
      "note": [
        "Bring the Beetom close to the door and begin Moondancing.",
        "Stop after exactly 175 moonfalls, so as not to fall through the floor."
      ]
    },
    {
      "link": [1, 1],
      "name": "Red Tower Door Frame Extended Moondance",
      "notable": true,
      "requires": [
        "canExtendedMoondance",
        "canTrickyUseFrozenEnemies",
        {"enemyDamage": {
          "enemy": "Beetom",
          "type": "contact",
          "hits": 5
        }},
        "h_ExtendedMoondanceBeetomLeniency"
      ],
      "exitCondition": {
        "leaveWithStoredFallSpeed": {
          "fallSpeedInTiles": 2
        }
      },
      "note": [
        "Bring the Beetom close to the door and begin Moondancing.",
        "Stop after exactly 175 moonfalls, so as not to fall through the floor.",
        "Freeze the Beetom inside the door frame and Moondance such that Samus does not fall through the floor and does not touch the door transition."
      ]
    },
    {
      "link": [1, 2],
      "name": "Base",
      "requires": [
        {"or": [
          "h_canUsePowerBombs",
          {"obstaclesCleared": ["A"]}
        ]}
      ],
      "clearsObstacles": ["A"]
    },
    {
      "link": [1, 2],
      "name": "R-Mode Frozen Beetom X-Ray Climb",
      "notable": true,
      "requires": [
        {"comeInWithRMode": {
          "fromNodes": [1, 5]
        }},
        {"enemyDamage": {
          "enemy": "Beetom",
          "type": "contact",
          "hits": 1
        }},
        {"enemyDamage": {
          "enemy": "Ripper",
          "type": "contact",
          "hits": 1
        }},
        "canWallIceClip",
        "canXRayClimb"
      ],
      "reusableRoomwideNotable": "Red Tower R-Mode Frozen Beetom X-Ray Climb",
      "note": [
        "Gain R-mode while entering the room.",
        "Use the respawning bugs to refill reserve energy.",
        "Get grabbed by the Beetom and carry it to the 4-tile high gap one screen above the bottom-left door.",
        "Position Samus one pixel to the right of being against the wall.",
        "Jump and aim down, reaching the ceiling at the same time that reserves are triggered.",
        "This will force Samus to stand up, briefly clipping into the wall above.",
        "Immediately freeze the Beetom inside the wall, by buffering a shot during the reserve trigger.",
        "Use a Ripper to get knocked back onto the frozen Beetom.",
        "This will clip Samus one pixel left into the wall, making it possible to X-ray climb.",
        "X-ray climb up 2 screens."
      ],
      "devNote": "Given the ability to freeze enemies, nodes 1 and 5 are freely connected, so lumping these into one strat is sound."
    },
    {
      "link": [1, 2],
      "name": "Moondance Clip",
      "requires": [
        "canExtendedMoondance",
        "canTrickyUseFrozenEnemies",
        {"enemyDamage": {
          "enemy": "Beetom",
          "type": "contact",
          "hits": 3
        }},
        "h_ExtendedMoondanceBeetomLeniency"
      ],
      "note": [
        "Collect the Beetom and freeze it above and left of the Power Bomb Blocks in a way that Samus will be able to Moondance.",
        "Moondance until Samus falls through two tiles, then Moonfall again to sink through the solid blocks and reach the door."
      ]
    },
    {
      "link": [1, 2],
      "name": "Leave with Moondance",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        "h_canUsePowerBombs",
        "canMoondance",
        "canTrickyUseFrozenEnemies",
        {"enemyDamage": {
          "enemy": "Beetom",
          "type": "contact",
          "hits": 2
        }}
      ],
      "exitCondition": {
        "leaveWithStoredFallSpeed": {
          "fallSpeedInTiles": 1
        }
      },
      "note": [
        "Break the Power Bomb Blocks without killing the Beetom",
        "Freeze a Beetom at head height where Samus can Spinjump into it and begin Moondancing.",
        "If needed, the Beetom can be left at the door while Samus moves to the farm bugs."
      ]
    },
    {
      "link": [1, 2],
      "name": "Leave with Extended Moondance",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        "h_canUsePowerBombs",
        "canExtendedMoondance",
        "canTrickyUseFrozenEnemies",
        {"enemyDamage": {
          "enemy": "Beetom",
          "type": "contact",
          "hits": 2
        }},
        "h_ExtendedMoondanceBeetomLeniency"
      ],
      "exitCondition": {
        "leaveWithStoredFallSpeed": {
          "fallSpeedInTiles": 2
        }
      },
      "note": [
        "Break the Power Bomb Blocks without killing the Beetom",
        "Freeze a Beetom at head height where Samus can Spinjump into it and begin Moondancing.",
        "After 175 Moonfalls, reposition the Beetom to chest height.",
        "If needed, the Beetom can be left at the door while Samus moves to the farm bugs."
      ]
    },
    {
      "link": [1, 3],
      "name": "Leave with Moondance",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        "canMoondance",
        "canTrickyUseFrozenEnemies",
        {"enemyDamage": {
          "enemy": "Beetom",
          "type": "contact",
          "hits": 2
        }}
      ],
      "exitCondition": {
        "leaveWithStoredFallSpeed": {
          "fallSpeedInTiles": 1
        }
      },
      "note": [
        "Freeze a Beetom at head height where Samus can Spinjump into it and begin Moondancing.",
        "If needed, the Beetom can be left at the door while Samus moves to the farm bugs."
      ]
    },
    {
      "link": [1, 3],
      "name": "Leave with Extended Moondance",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        "canExtendedMoondance",
        "canTrickyUseFrozenEnemies",
        {"enemyDamage": {
          "enemy": "Beetom",
          "type": "contact",
          "hits": 2
        }},
        "h_ExtendedMoondanceBeetomLeniency"
      ],
      "exitCondition": {
        "leaveWithStoredFallSpeed": {
          "fallSpeedInTiles": 2
        }
      },
      "note": [
        "Freeze a Beetom at head height where Samus can Spinjump into it and begin Moondancing.",
        "After 175 Moonfalls, reposition the Beetom to chest height.",
        "If needed, the Beetom can be left at the door while Samus moves to the farm bugs."
      ]
    },
    {
      "link": [1, 4],
      "name": "Leave with Moondance",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        "canMoondance",
        "canTrickyUseFrozenEnemies",
        {"enemyDamage": {
          "enemy": "Beetom",
          "type": "contact",
          "hits": 6
        }}
      ],
      "exitCondition": {
        "leaveWithStoredFallSpeed": {
          "fallSpeedInTiles": 1
        }
      },
      "note": [
        "Freeze a Beetom at head height where Samus can Spinjump into it and begin Moondancing.",
        "If needed, the Beetom can be left at the door while Samus moves to the farm bugs."
      ]
    },
    {
      "link": [1, 4],
      "name": "Leave with Extended Moondance",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        "canExtendedMoondance",
        "canTrickyUseFrozenEnemies",
        {"enemyDamage": {
          "enemy": "Beetom",
          "type": "contact",
          "hits": 6
        }},
        "h_ExtendedMoondanceBeetomLeniency"
      ],
      "exitCondition": {
        "leaveWithStoredFallSpeed": {
          "fallSpeedInTiles": 2
        }
      },
      "note": [
        "Freeze a Beetom at head height where Samus can Spinjump into it and begin Moondancing.",
        "After 175 Moonfalls, reposition the Beetom to chest height.",
        "If needed, the Beetom can be left at the door while Samus moves to the farm bugs."
      ]
    },
    {
      "link": [1, 5],
      "name": "Leave with Moondance",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        "canMoondance",
        "canTrickyUseFrozenEnemies",
        {"enemyDamage": {
          "enemy": "Beetom",
          "type": "contact",
          "hits": 6
        }}
      ],
      "exitCondition": {
        "leaveWithStoredFallSpeed": {
          "fallSpeedInTiles": 1
        }
      },
      "note": [
        "Freeze a Beetom at head height where Samus can Spinjump into it and begin Moondancing.",
        "If needed, the Beetom can be left at the door while Samus moves to the farm bugs."
      ]
    },
    {
      "link": [1, 5],
      "name": "Leave with Extended Moondance",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        "canExtendedMoondance",
        "canTrickyUseFrozenEnemies",
        {"enemyDamage": {
          "enemy": "Beetom",
          "type": "contact",
          "hits": 6
        }},
        "h_ExtendedMoondanceBeetomLeniency"
      ],
      "exitCondition": {
        "leaveWithStoredFallSpeed": {
          "fallSpeedInTiles": 2
        }
      },
      "note": [
        "Freeze a Beetom at head height where Samus can Spinjump into it and begin Moondancing.",
        "After 175 Moonfalls, reposition the Beetom to chest height.",
        "If needed, the Beetom can be left at the door while Samus moves to the farm bugs."
      ]
    },
    {
      "link": [1, 5],
      "name": "Red Tower Spark (Come In Shinecharged)",
      "notable": true,
      "reusableRoomwideNotable": "Red Tower Spark",
      "entranceCondition": {
        "comeInShinecharged": {
          "framesRequired": 100
        }
      },
      "requires": [
        "canHeroShot",
        {"shinespark": {"frames": 77, "excessFrames": 3}},
        {"ammo": {"type": "Missile", "count": 1}}
      ],
      "note": [
        "Come in shinecharged from the top left door. With missiles selected, position Samus roughly in the horizontal center of the room.",
        "Crouch, aim up, then in very quick succession, shoot a missile upwards then spark up.",
        "If done correctly, Samus will pass the Missile, break the bomb block platforms, then be passed by the Missile which will break the shot blocks at the top."
      ]
    },
    {
      "link": [1, 5],
      "name": "Red Tower Spark (Come In Shinecharging)",
      "notable": true,
      "reusableRoomwideNotable": "Red Tower Spark",
      "entranceCondition": {
        "comeInShinecharging": {
          "length": 10,
          "openEnd": 1
        }
      },
      "requires": [
        "canHeroShot",
        {"shinespark": {"frames": 77, "excessFrames": 3}},
        {"ammo": {"type": "Missile", "count": 1}}
      ],
      "note": [
        "Come in shinecharging from the top left door. With missiles selected, position Samus roughly in the horizontal center of the room.",
        "Crouch, aim up, then in very quick succession, shoot a missile upwards then spark up.",
        "If done correctly, Samus will pass the Missile, break the bomb block platforms, then be passed by the Missile which will break the shot blocks at the top."
      ]
    },
    {
      "link": [1, 6],
      "name": "Base",
      "requires": []
    },
    {
      "link": [1, 9],
      "name": "Base",
      "requires": [
        {"or": [
          "HiJump",
          "h_canFly",
          "canWalljump"
        ]}
      ]
    },
    {
      "link": [2, 1],
      "name": "Base",
      "requires": [
        {"or": [
          "h_canUsePowerBombs",
          {"obstaclesCleared": ["A"]}
        ]}
      ],
      "clearsObstacles": ["A"]
    },
    {
      "link": [2, 1],
      "name": "Red Tower X-Ray Climb",
      "entranceCondition": {
        "comeInWithDoorStuckSetup": {}
      },
      "requires": [
        "canXRayClimb"
      ],
      "note": "This is a short climb of only a few tiles."
    },
    {
      "link": [2, 1],
      "name": "Very Deep Stuck X-Ray Climb",
      "entranceCondition": {
        "comeInWithGMode": {
          "mode": "direct",
          "morphed": false
        }
      },
      "requires": [
        "canXRayClimb"
      ],
      "bypassesDoorShell": true,
      "note": [
        "Enter with G-mode direct, back up to between 1 and 6 pixels from the door transition, and activate X-ray to get very deep stuck in the door.",
        "Climb up 2 screens, and perform a turnaround buffered spin-jump away from the door to trigger the transition, bypassing any lock on the door."
      ]
    },
    {
      "link": [2, 2],
      "name": "Leave With Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 3,
          "openEnd": 0
        }
      }
    },
    {
      "link": [2, 2],
      "name": "Crystal Flash",
      "requires": [
        "h_canCrystalFlash"
      ],
      "clearsObstacles": ["A"]
    },
    {
      "link": [3, 3],
      "name": "Leave With Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 13,
          "openEnd": 0
        }
      }
    },
    {
      "link": [3, 3],
      "name": "Leave With Runway, Both Doors Open",
      "requires": [
        {"doorUnlockedAtNode": 4}
      ],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 14,
          "openEnd": 0
        }
      }
    },
    {
      "link": [3, 6],
      "name": "Shinespark (Come in Shinecharging)",
      "entranceCondition": {
        "comeInShinecharging": {
          "length": 12,
          "openEnd": 0
        }
      },
      "requires": [
        {"shinespark": {"frames": 45, "excessFrames": 5}}
      ],
      "devNote": [
        "One tile longer runway could be used if the opposite door can be shot open while running.",
        "This could be done if the door is blue (and run speed is low enough), or pink/green with a Super.",
        "It's not obvious if this is worth modeling though."
      ]
    },
    {
      "link": [3, 6],
      "name": "Shinespark (Come in Shinecharged)",
      "entranceCondition": {
        "comeInShinecharged": {
          "framesRequired": 40
        }
      },
      "requires": [
        {"shinespark": {"frames": 45, "excessFrames": 5}}
      ]
    },
    {
      "link": [3, 7],
      "name": "Shinespark (Come in Shinecharging)",
      "entranceCondition": {
        "comeInShinecharging": {
          "length": 12,
          "openEnd": 0
        }
      },
      "requires": [
        {"shinespark": {"frames": 34, "excessFrames": 10}},
        {"enemyDamage": {
          "enemy": "Ripper",
          "type": "contact",
          "hits": 1
        }}
      ],
      "note": "Perform a diagonal spark up to the right ledge.",
      "devNote": [
        "Sparking vertically uses 2 more frames, but prevents the Ripper hit if Samus has enough energy to hit the ceiling.",
        "One tile longer runway could be used if the opposite door can be shot open while running.",
        "This could be done if the door is blue (and run speed is low enough), or pink/green with a Super.",
        "It's not obvious if this is worth modeling though."
      ]
    },
    {
      "link": [3, 7],
      "name": "Shinespark (Come in Shinecharged)",
      "entranceCondition": {
        "comeInShinecharged": {
          "framesRequired": 5
        }
      },
      "requires": [
        {"shinespark": {"frames": 34, "excessFrames": 10}},
        {"enemyDamage": {
          "enemy": "Ripper",
          "type": "contact",
          "hits": 1
        }}
      ],
      "note": "Immediately perform a diagonal spark up to the right ledge on entry.",
      "devNote": "Sparking vertically uses 2 more frames, but prevents the Ripper hit if Samus has enough energy to hit the ceiling."
    },
    {
      "link": [3, 8],
      "name": "Base",
      "requires": []
    },
    {
      "link": [4, 4],
      "name": "Leave With Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 13,
          "openEnd": 0
        }
      }
    },
    {
      "link": [4, 4],
      "name": "Leave With Runway, Both Doors Open",
      "requires": [
        {"doorUnlockedAtNode": 3}
      ],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 14,
          "openEnd": 0
        }
      }
    },
    {
      "link": [4, 6],
      "name": "Shinespark (Come in Shinecharging)",
      "entranceCondition": {
        "comeInShinecharging": {
          "length": 12,
          "openEnd": 0
        }
      },
      "requires": [
        {"shinespark": {"frames": 45, "excessFrames": 5}}
      ],
      "devNote": [
        "One tile longer runway could be used if the opposite door can be shot open while running.",
        "This could be done if the door is blue (and run speed is low enough), or pink/green with a Super.",
        "It's not obvious if this is worth modeling though."
      ]
    },
    {
      "link": [4, 6],
      "name": "Shinespark (Come in Shinecharged)",
      "entranceCondition": {
        "comeInShinecharged": {
          "framesRequired": 30
        }
      },
      "requires": [
        {"shinespark": {"frames": 45, "excessFrames": 5}}
      ]
    },
    {
      "link": [4, 7],
      "name": "Shinespark (Come in Shinecharging)",
      "entranceCondition": {
        "comeInShinecharging": {
          "length": 12,
          "openEnd": 0
        }
      },
      "requires": [
        {"shinespark": {"frames": 34, "excessFrames": 10}},
        {"enemyDamage": {
          "enemy": "Ripper",
          "type": "contact",
          "hits": 1
        }}
      ],
      "note": "Perform a diagonal spark up to the right ledge.",
      "devNote": [
        "Sparking vertically uses 2 more frames, but prevents the Ripper hit if Samus has enough energy to hit the ceiling.",
        "One tile longer runway could be used if the opposite door can be shot open while running.",
        "This could be done if the door is blue (and run speed is low enough), or pink/green with a Super.",
        "It's not obvious if this is worth modeling though."
      ]
    },
    {
      "link": [4, 7],
      "name": "Shinespark (Come in Shinecharged)",
      "entranceCondition": {
        "comeInShinecharged": {
          "framesRequired": 5
        }
      },
      "requires": [
        {"shinespark": {"frames": 34, "excessFrames": 10}},
        {"enemyDamage": {
          "enemy": "Ripper",
          "type": "contact",
          "hits": 1
        }}
      ],
      "note": "Immediately perform a diagonal spark up to the right ledge on entry.",
      "devNote": "Sparking vertically uses 2 more frames, but prevents the Ripper hit if Samus has enough energy to hit the ceiling."
    },
    {
      "link": [4, 8],
      "name": "Base",
      "requires": []
    },
    {
      "link": [5, 5],
      "name": "Crystal Flash",
      "requires": [
        "h_canCrystalFlash"
      ]
    },
    {
      "link": [5, 5],
      "name": "Leave With Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 13,
          "openEnd": 0
        }
      }
    },
    {
      "link": [5, 9],
      "name": "Base",
      "requires": []
    },
    {
      "link": [6, 1],
      "name": "Base",
      "requires": [
        {"or": [
          "canWalljump",
          "HiJump",
          "canSpringBallJumpMidAir",
          "h_canFly"
        ]}
      ]
    },
    {
      "link": [6, 1],
      "name": "Frozen Beetom Lure",
      "requires": [
        "canTrickyUseFrozenEnemies",
        "h_canCrouchJumpDownGrab"
      ],
      "note": "Using a crouch jump, get the Beetom attach to Samus. Quickly freeze it before it deals damage, if Samus is at very low energy."
    },
    {
      "link": [6, 7],
      "name": "Base",
      "requires": []
    },
    {
      "link": [7, 6],
      "name": "Base",
      "requires": [
        {"or": [
          "SpaceJump",
          {"and": [
            "HiJump",
            "SpeedBooster"
          ]},
          {"and": [
            "HiJump",
            "canConsecutiveWalljump"
          ]}
        ]}
      ]
    },
    {
      "link": [7, 6],
      "name": "Use Frozen Enemies",
      "requires": [
        "canUseFrozenEnemies",
        {"or": [
          "HiJump",
          "canWalljump",
          "canSpringBallJumpMidAir",
          "h_canIBJ"
        ]}
      ]
    },
    {
      "link": [7, 6],
      "name": "IBJ",
      "requires": [
        "h_canIBJ",
        {"or": [
          {"and": [
            "canWalljump",
            "ScrewAttack"
          ]},
          {"and": [
            {"or": [
              "canWalljump",
              "canSpringBallJumpMidAir"
            ]},
            {"ammo": {"type": "PowerBomb", "count": 1}}
          ]},
          {"enemyKill": {
            "enemies": [
              ["Ripper", "Ripper", "Ripper"],
              ["Ripper"]
            ],
            "explicitWeapons": ["Super", "PowerBomb"]
          }}
        ]}
      ]
    },
    {
      "link": [7, 6],
      "name": "Red Tower IBJ Between the Bottom Rippers",
      "notable": true,
      "requires": [
        "h_canDoubleBombJump",
        "h_canStaggeredIBJ"
      ],
      "note": "Requires switching between single and double IBJs. While Doubles are not techincally necessary, they make the strat more bearable."
    },
    {
      "link": [7, 6],
      "name": "SpringBall Jump",
      "requires": [
        "canSpringBallJumpMidAir",
        {"or": [
          "canWalljump",
          {"and": [
            "HiJump",
            "canTrickyJump"
          ]}
        ]},
        {"or": [
          "canTrickySpringBallJump",
          "canSpringwall"
        ]}
      ]
    },
    {
      "link": [7, 6],
      "name": "Red Tower Midair HBJ",
      "notable": true,
      "requires": [
        "canWallJumpBombBoost",
        "h_canHBJ"
      ],
      "note": [
        "Starting on the right ledge at the bottom of Red Tower, wall jump just below the middle plant, just above the top ripper.",
        "Place two bombs out of the wall jump landing on the first bomb and getting boosted by both.",
        "While rising, place two more bombs for a second HBJ. Colliding with the side of the ledge after the third bomb can help."
      ]
    },
    {
      "link": [7, 6],
      "name": "Diagonal Bomb Jump",
      "requires": [
        "canWalljump",
        "h_canDiagonalBombJump"
      ]
    },
    {
      "link": [7, 8],
      "name": "Base",
      "requires": []
    },
    {
      "link": [8, 2],
      "name": "R-Mode Frozen Beetom X-Ray Climb",
      "notable": true,
      "requires": [
        {"comeInWithRMode": {
          "fromNodes": [3, 4]
        }},
        {"or": [
          "canWalljump",
          "HiJump",
          "h_canFly",
          "canSpringBallJumpMidAir"
        ]},
        {"enemyDamage": {
          "enemy": "Beetom",
          "type": "contact",
          "hits": 1
        }},
        {"enemyDamage": {
          "enemy": "Ripper",
          "type": "contact",
          "hits": 1
        }},
        "canWallIceClip",
        "canXRayClimb"
      ],
      "reusableRoomwideNotable": "Red Tower R-Mode Frozen Beetom X-Ray Climb",
      "note": [
        "Gain R-mode while entering the room.",
        "Use the respawning bugs to refill reserve energy.",
        "Get grabbed by the Beetom and carry it to the 4-tile high gap one screen above the bottom-left door.",
        "Position Samus one pixel to the right of being against the wall.",
        "Jump and aim down, reaching the ceiling at the same time that reserves are triggered.",
        "This will force Samus to stand up, briefly clipping into the wall above.",
        "Immediately freeze the Beetom inside the wall, by buffering a shot during the reserve trigger.",
        "Use a Ripper to get knocked back onto the frozen Beetom.",
        "This will clip Samus one pixel left into the wall, making it possible to X-ray climb.",
        "X-ray climb up 2 screens."
      ]
    },
    {
      "link": [8, 3],
      "name": "Base",
      "requires": []
    },
    {
      "link": [8, 4],
      "name": "Base",
      "requires": []
    },
    {
      "link": [8, 7],
      "name": "Base",
      "requires": []
    },
    {
      "link": [8, 8],
      "name": "Crystal Flash",
      "requires": [
        "h_canCrystalFlash"
      ]
    },
    {
      "link": [9, 1],
      "name": "Base",
      "requires": []
    },
    {
      "link": [9, 5],
      "name": "Walljump",
      "requires": [
        "canConsecutiveWalljump",
        {"or": [
          "canPreciseWalljump",
          "canSpringwall",
          "HiJump"
        ]},
        {"or": [
          {"enemyKill": {
            "enemies": [["Ripper", "Ripper", "Ripper", "Ripper"]]
          }},
          {"obstaclesCleared": ["B"]}
        ]}
      ],
      "clearsObstacles": ["B"],
      "note": "Kill the rippers then walljump up."
    },
    {
      "link": [9, 5],
      "name": "Use Frozen Enemies",
      "requires": [
        "canUseFrozenEnemies"
      ]
    },
    {
      "link": [9, 5],
      "name": "Red Tower Hero Shot",
      "notable": true,
      "requires": [
        "canHeroShot",
        "canPreciseWalljump",
        "canStaggeredWalljump"
      ],
      "note": "Wall jump between the Rippers. Either shoot the block, fall, and quickly climb again, or shoot from the bottom and follow Samus's shot up the tower."
    },
    {
      "link": [9, 5],
      "name": "Space Jump",
      "requires": [
        "SpaceJump",
        {"or": [
          "canCarefulJump",
          "HiJump"
        ]},
        {"or": [
          {"enemyKill": {
            "enemies": [["Ripper", "Ripper", "Ripper", "Ripper"]]
          }},
          {"obstaclesCleared": ["B"]}
        ]}
      ],
      "clearsObstacles": ["B"],
      "note": [
        "This strat is for killing all of the Rippers and then using Space Jump to get up without wall jumps.",
        "Space jump up near the shot block, then shoot it while falling right as it goes off screen, then space jump back up."
      ]
    },
    {
      "link": [9, 5],
      "name": "Red Tower IBJ",
      "requires": [
        "h_canIBJ",
        {"or": [
          "canBombAboveIBJ",
          {"ammo": {"type": "PowerBomb", "count": 1}}
        ]},
        {"or": [
          {"and": [
            {"or": [
              "canWalljump",
              "canTrickyDashJump",
              "canSpringBallJumpMidAir"
            ]},
            {"ammo": {"type": "PowerBomb", "count": 1}}
          ]},
          {"enemyKill": {
            "enemies": [
              ["Ripper", "Ripper", "Ripper"],
              ["Ripper"]
            ],
            "explicitWeapons": ["Super", "PowerBomb"]
          }},
          {"obstaclesCleared": ["B"]}
        ]}
      ],
      "clearsObstacles": ["B"],
      "note": "Without canJumpIntoIBJ, you will need to kill the Rippers and break the bomb blocks then start from the platforms below."
    }
  ]
}
