{
  "$schema": "../../../schema/m3-room.schema.json",
  "id": 131,
  "name": "Grapple Tutorial Room 3",
  "area": "Norfair",
  "subarea": "Upper",
  "subsubarea": "Crocomire",
  "playable": true,
  "roomAddress": "0x7AB64",
  "roomEnvironments": [{"heated": false}],
  "nodes": [
    {
      "id": 1,
      "name": "Left Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x00194b6",
      "doorEnvironments": [{"physics": "air"}]
    },
    {
      "id": 2,
      "name": "Right Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x00194c2",
      "doorEnvironments": [{"physics": "air"}]
    },
    {
      "id": 3,
      "name": "Junction Left of Green Gate",
      "nodeType": "junction",
      "nodeSubType": "junction"
    },
    {
      "id": 4,
      "name": "Center Platform Junction",
      "nodeType": "junction",
      "nodeSubType": "junction"
    }
  ],
  "enemies": [
    {
      "id": "e1",
      "groupName": "Grapple Tutorial Room 3 Gamets",
      "enemyName": "Gamet",
      "quantity": 5,
      "homeNodes": [1],
      "farmCycles": [
        {
          "name": "Crouch over Gamets",
          "cycleFrames": 120,
          "requires": []
        }
      ]
    },
    {
      "id": "e2",
      "groupName": "Grapple Tutorial Room 3 Puyos",
      "enemyName": "Puyo",
      "quantity": 5,
      "homeNodes": [4]
    }
  ],
  "obstacles": [
    {
      "id": "A",
      "name": "Green Gate",
      "obstacleType": "inanimate"
    }
  ],
  "links": [
    {
      "from": 1,
      "to": [
        {"id": 1},
        {"id": 3},
        {"id": 4}
      ]
    },
    {
      "from": 2,
      "to": [
        {"id": 2},
        {"id": 3}
      ]
    },
    {
      "from": 3,
      "to": [
        {"id": 2},
        {"id": 4}
      ]
    },
    {
      "from": 4,
      "to": [
        {"id": 1},
        {"id": 3}
      ]
    }
  ],
  "strats": [
    {
      "link": [1, 1],
      "name": "Leave with Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 4,
          "openEnd": 1
        }
      }
    },
    {
      "link": [1, 1],
      "name": "Gamet Farm",
      "requires": [
        {"refill": ["Energy", "Missile", "Super", "PowerBomb"]}
      ]
    },
    {
      "link": [1, 3],
      "name": "Enter Shinesparking",
      "entranceCondition": {
        "comeInWithSpark": {}
      },
      "requires": [
        {"shinespark": {"frames": 56, "excessFrames": 1}}
      ]
    },
    {
      "link": [1, 3],
      "name": "Enter Building Shinespark",
      "entranceCondition": {
        "comeInShinecharging": {
          "length": 3,
          "openEnd": 1
        }
      },
      "requires": [
        {"shinespark": {"frames": 54, "excessFrames": 1}}
      ]
    },
    {
      "link": [1, 3],
      "name": "Grapple Tutorial 3 Frozen Gamet Bridge",
      "notable": true,
      "requires": [
        "canTrickyUseFrozenEnemies"
      ],
      "note": [
        "Lead a Gamet up through the water and freeze it to cross the first moat.",
        "Freeze the Gamet before it starts moving left.",
        "Wait for it to thaw and fly over the second moat where it can be frozen again."
      ]
    },
    {
      "link": [1, 3],
      "name": "Grapple Tutorial 3 Double Gamet Boost",
      "notable": true,
      "requires": [
        "h_canNavigateUnderwater",
        "canCarefulJump",
        "canHorizontalDamageBoost",
        {"enemyDamage": {
          "enemy": "Gamet",
          "type": "contact",
          "hits": 2
        }}
      ],
      "note": [
        "1- Stand near the farm point, on the edge of where you make Gamets spawn.",
        "2- Wait for the water position to be high.",
        "3- Move to make the Gamets spawn. Moonwalk is useful here.",
        "4- Quickly climb up to the last ledge before the door.",
        "5- Run, jump, dboost off a Gamet.",
        "6- Dboost a second time off the Gamet to cross the second moat."
      ]
    },
    {
      "link": [1, 3],
      "name": "Careful SpringBall Bounce",
      "entranceCondition": {
        "comeInRunning": {
          "minTiles": 4,
          "speedBooster": "any"
        }
      },
      "requires": [
        "canCarefulJump",
        "canMockball",
        "canSpringBallBounce"
      ],
      "note": "With enough run speed, jump over the first moat and MockBall into a regular springball jump over the second moat."
    },
    {
      "link": [1, 3],
      "name": "Tricky SpringBall Bounce",
      "entranceCondition": {
        "comeInRunning": {
          "minTiles": 2,
          "speedBooster": "any"
        }
      },
      "requires": [
        "canTrickyJump",
        "canMockball",
        "canSpringBallBounce"
      ],
      "note": "With enough run speed, jump over the first moat and MockBall into a regular springball jump over the second moat."
    },
    {
      "link": [1, 4],
      "name": "Base",
      "requires": [
        {"or": [
          "Grapple",
          "SpaceJump"
        ]}
      ]
    },
    {
      "link": [1, 4],
      "name": "Gravity",
      "requires": [
        "Gravity",
        {"or": [
          "canWalljump",
          "HiJump",
          "canSpringBallJumpMidAir",
          "h_canFly",
          "canUseFrozenEnemies",
          "canGravityJump"
        ]}
      ]
    },
    {
      "link": [1, 4],
      "name": "Speed Jump",
      "requires": [
        "SpeedBooster",
        "canTrickyJump",
        {"or": [
          "canWalljump",
          "canLateralMidAirMorph"
        ]}
      ]
    },
    {
      "link": [1, 4],
      "name": "Little Run Speed Jump",
      "entranceCondition": {
        "comeInRunning": {
          "minTiles": 2,
          "speedBooster": "any"
        }
      },
      "requires": [
        "canTrickyJump",
        {"or": [
          "canWalljump",
          "canLateralMidAirMorph"
        ]}
      ]
    },
    {
      "link": [1, 4],
      "name": "Full Run Speed Jump",
      "entranceCondition": {
        "comeInRunning": {
          "minTiles": 4,
          "speedBooster": "any"
        }
      },
      "requires": [
        "canCarefulJump"
      ]
    },
    {
      "link": [1, 4],
      "name": "Grapple Tutorial Gamet Boost",
      "requires": [
        "h_canNavigateUnderwater",
        "canHorizontalDamageBoost",
        "canCarefulJump",
        {"enemyDamage": {
          "enemy": "Gamet",
          "type": "contact",
          "hits": 1
        }}
      ],
      "note": [
        "1- Stand near the farm point, on the edge of where you make Gamets spawn.",
        "2- Wait for the water position to be high.",
        "3- Move to make the Gamets spawn. Moonwalk is useful here.",
        "4- Quickly climb up to the last ledge before the door.",
        "5- Run, jump, dboost off a Gamet."
      ]
    },
    {
      "link": [1, 4],
      "name": "Suitless SpringBall Jump",
      "requires": [
        "canSuitlessMaridia",
        "HiJump",
        "canSpringBallJumpMidAir",
        "canCrouchJump",
        "canTrickyJump"
      ],
      "note": "Wait for the water to be rising and perform a max height SpringBall Jump."
    },
    {
      "link": [2, 2],
      "name": "Leave with Limited Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 4,
          "openEnd": 0
        }
      }
    },
    {
      "link": [2, 2],
      "name": "Leave with Full Runway",
      "requires": [
        {"obstaclesCleared": ["A"]}
      ],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 7,
          "openEnd": 1
        }
      }
    },
    {
      "link": [2, 2],
      "name": "Crystal Flash",
      "requires": [
        "h_canCrystalFlash"
      ]
    },
    {
      "link": [2, 3],
      "name": "Base",
      "requires": [
        {"or": [
          "h_canGreenGateGlitch",
          {"obstaclesCleared": ["A"]}
        ]}
      ],
      "clearsObstacles": ["A"]
    },
    {
      "link": [3, 2],
      "name": "Base",
      "requires": [
        {"or": [
          {"ammo": {"type": "Super", "count": 1}},
          {"obstaclesCleared": ["A"]}
        ]}
      ],
      "clearsObstacles": ["A"]
    },
    {
      "link": [3, 4],
      "name": "Base",
      "requires": [
        {"obstaclesCleared": ["A"]}
      ]
    },
    {
      "link": [3, 4],
      "name": "Avoid Puyo",
      "requires": [
        {"or": [
          "Grapple",
          "SpaceJump",
          "canResetFallSpeed",
          {"and": [
            "canTrickyJump",
            "canLateralMidAirMorph"
          ]},
          {"and": [
            "Gravity",
            "canStaggeredWalljump"
          ]}
        ]}
      ]
    },
    {
      "link": [3, 4],
      "name": "Fight Puyo",
      "requires": [
        {"or": [
          {"enemyKill": {
            "enemies": [["Puyo"]],
            "explicitWeapons": [
              "Wave",
              "Ice+Spazer",
              "Plasma",
              "Missile",
              "Super",
              "Charge+Spazer"
            ]
          }},
          {"and": [
            "Gravity",
            {"enemyKill": {
              "enemies": [["Puyo"]],
              "explicitWeapons": ["ScrewAttack", "PseudoScrew"]
            }}
          ]},
          {"enemyDamage": {
            "enemy": "Puyo",
            "type": "contact",
            "hits": 1
          }}
        ]}
      ],
      "note": "Kill either the leftmost puyo or jump into the right side of the water and fight all the puyos."
    },
    {
      "link": [4, 1],
      "name": "Base",
      "requires": []
    },
    {
      "link": [4, 3],
      "name": "Base",
      "requires": [
        {"or": [
          "Grapple",
          "SpaceJump"
        ]}
      ]
    },
    {
      "link": [4, 3],
      "name": "Gravity",
      "requires": [
        "Gravity",
        {"or": [
          "canWalljump",
          "canGravityJump",
          "h_canFly",
          {"and": [
            "HiJump",
            "SpeedBooster"
          ]}
        ]}
      ]
    },
    {
      "link": [4, 3],
      "name": "Gravity and Ice",
      "requires": [
        "Gravity",
        "HiJump",
        "canTrickyUseFrozenEnemies",
        {"or": [
          "h_canCrouchJumpDownGrab",
          "Spazer",
          "Wave",
          "Plasma"
        ]}
      ],
      "note": "Either freeze the Puyos immediately on the stairs, or at the highest part of their jump to barely jump up to the ledge with HiJump."
    },
    {
      "link": [4, 3],
      "name": "Tricky Jump",
      "requires": [
        "canTrickyJump",
        {"or": [
          "canLateralMidAirMorph",
          "canPreciseWalljump"
        ]}
      ],
      "note": [
        "Run and jump at the very edge of the center platform.",
        "Wait for the water level to begin lowering to walljump on the far edge.",
        "An airball may be a little easier."
      ]
    },
    {
      "link": [4, 3],
      "name": "Suitless Double SpringBall Jump",
      "requires": [
        "canSuitlessMaridia",
        "HiJump",
        "canTrickyJump",
        "canDoubleSpringBallJumpMidAir"
      ],
      "note": "Jump when the water level is at its lowest."
    }
  ]
}
