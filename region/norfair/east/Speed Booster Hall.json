{
  "$schema": "../../../schema/m3-room.schema.json",
  "id": 101,
  "name": "Speed Booster Hall",
  "area": "Norfair",
  "subarea": "Upper",
  "subsubarea": "East",
  "playable": true,
  "roomAddress": "0x7ACF0",
  "roomEnvironments": [{"heated": true}],
  "nodes": [
    {
      "id": 1,
      "name": "Left Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x00195a6",
      "doorEnvironments": [{"physics": "air"}],
      "runways": [
        {
          "name": "Runway When Running Through - Speed Booster Hall Left Door (to Bat Cave)",
          "length": 45,
          "strats": [
            {
              "name": "Base",
              "notable": false,
              "requires": [
                "h_canNavigateHeatRooms",
                {"resetRoom": {
                  "nodes": [2],
                  "mustStayPut": false
                }},
                {"heatFrames": 300}
              ],
              "devNote": [
                "Although technically meaningless, mustStayPut false is used here to make this resetRoom structurally valid.",
                "This is a rare situation where visiting a node or destroying an obstacle isn't stricly what makes the strat impossible.",
                "In this case, you can destroy the crumble blocks and still do the strat as long as you break them moving towards the door and don't lose momentum."
              ]
            }
          ],
          "openEnd": 1
        }
      ]
    },
    {
      "id": 2,
      "name": "Right Door",
      "nodeType": "door",
      "nodeSubType": "red",
      "nodeAddress": "0x00195b2",
      "doorEnvironments": [
        {
          "physics": "air",
          "note": "This can be lava when entering from node 2, but it's still possible to have air physics"
        }
      ],
      "runways": [
        {
          "name": "Runway When Running Through - Speed Booster Hall Right Door (to Speed Booster)",
          "length": 45,
          "strats": [
            {
              "name": "Base",
              "notable": false,
              "requires": [
                "h_canNavigateHeatRooms",
                {"resetRoom": {
                  "nodes": [1],
                  "nodesToAvoid": [3]
                }},
                {"heatFrames": 300}
              ],
              "note": "Unlike with node 1, here we can count visiting node 3 as 'breaking momentum after using the crumble blocks'."
            }
          ],
          "openEnd": 1
        }
      ],
      "locks": [
        {
          "name": "Speed Booster Hall Red Lock (to Speed Booster)",
          "lockType": "coloredDoor",
          "unlockStrats": [
            {
              "name": "Base",
              "notable": false,
              "requires": [
                "h_canOpenRedDoors"
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 3,
      "name": "Hidden Item",
      "nodeType": "item",
      "nodeSubType": "hidden",
      "nodeItem": "Missile",
      "nodeAddress": "0x78C74"
    }
  ],
  "obstacles": [
    {
      "id": "A",
      "name": "Crumble Blocks Broken",
      "obstacleType": "inanimate"
    }
  ],
  "enemies": [
    {
      "id": "e1",
      "groupName": "Speed Booster Hall Metarees",
      "enemyName": "Metaree",
      "quantity": 2,
      "homeNodes": [1],
      "dropRequires": ["h_heatProof"]
    },
    {
      "id": "e2",
      "groupName": "Speed Booster Hall Gerutas",
      "enemyName": "Geruta",
      "quantity": 3,
      "betweenNodes": [1, 2],
      "dropRequires": ["Gravity", "h_heatProof"],
      "devNote": "Accessible without Gravity going left to right but not right to left with speedbooster. Letting it slide"
    }
  ],
  "links": [
    {
      "from": 1,
      "to": [
        {"id": 1},
        {"id": 2}
      ]
    },
    {
      "from": 2,
      "to": [
        {"id": 1},
        {"id": 2},
        {"id": 3}
      ]
    },
    {
      "from": 3,
      "to": [
        {"id": 2}
      ]
    }
  ],
  "strats": [
    {
      "link": [1, 1],
      "name": "Leave with Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 7,
          "openEnd": 1
        }
      }
    },
    {
      "link": [1, 1],
      "name": "Geruta Farm",
      "requires": [
        "h_heatProof",
        {"or": [
          "ScrewAttack",
          "Ice",
          "Spazer",
          "Wave",
          "Plasma"
        ]},
        {"refill": ["Energy", "Missile", "Super"]}
      ]
    },
    {
      "link": [1, 1],
      "name": "Crystal Flash",
      "requires": [
        "h_canHeatedCrystalFlash"
      ],
      "devNote": [
        "FIXME: A Crystal Flash at node 2 could be added to logic, but would have to take into account the lava rising (if entering from the right door, with Speedbooster collected, without the lava having finished rising before)."
      ]
    },
    {
      "link": [1, 2],
      "name": "Base",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        {"heatFrames": 650}
      ],
      "clearsObstacles": ["A"]
    },
    {
      "link": [1, 2],
      "name": "Leave with Runway",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        {"heatFrames": 630}
      ],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 8,
          "openEnd": 1
        }
      },
      "clearsObstacles": ["A"]
    },
    {
      "link": [1, 2],
      "name": "Crumble Bridges Broken",
      "requires": [
        {"obstaclesCleared": ["A"]},
        "h_heatProof"
      ],
      "devNote": "There is no reason to logically run back through the room this way."
    },
    {
      "link": [1, 2],
      "name": "Speed Run",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        "SpeedBooster",
        {"heatFrames": 360}
      ],
      "clearsObstacles": ["A"]
    },
    {
      "link": [1, 2],
      "name": "Speed Run and Leave Shinecharged",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        {"canShineCharge": {
          "usedTiles": 33,
          "openEnd": 2
        }},
        {"heatFrames": 360}
      ],
      "exitCondition": {
        "leaveShinecharged": {
          "framesRemaining": 145
        }
      },
      "clearsObstacles": ["A"]
    },
    {
      "link": [1, 2],
      "name": "Speed Run and Leave Running",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        "SpeedBooster",
        "canHeroShot",
        {"heatFrames": 290}
      ],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 45,
          "openEnd": 1
        }
      },
      "clearsObstacles": ["A"],
      "note": "Shoot from the middle of the second set of crumble blocks from the left."
    },
    {
      "link": [2, 1],
      "name": "Base",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        {"heatFrames": 650}
      ],
      "clearsObstacles": ["A"]
    },
    {
      "link": [2, 1],
      "name": "Crumble Bridges Broken",
      "requires": [
        {"obstaclesCleared": ["A"]},
        {"or": [
          "h_heatProof",
          {"and": [
            {"heatFrames": 690},
            {"or": [
              {"ammo": {"type": "Super", "count": 3}},
              {"ammo": {"type": "Missile", "count": 6}},
              "ScrewAttack",
              "Plasma",
              "Spazer",
              "Wave"
            ]}
          ]}
        ]},
        {"or": [
          {"and": [
            "canCarefulJump",
            {"heatFrames": 420}
          ]},
          {"and": [
            {"heatFrames": 720},
            {"lavaFrames": 60}
          ]}
        ]}
      ],
      "devNote": "This can be used for collecting the item without needing to reset the room."
    },
    {
      "link": [2, 1],
      "name": "Leave with Runway",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        {"heatFrames": 630}
      ],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 8,
          "openEnd": 1
        }
      },
      "clearsObstacles": ["A"]
    },
    {
      "link": [2, 1],
      "name": "Speed Run",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        "SpeedBooster",
        {"heatFrames": 360}
      ],
      "clearsObstacles": ["A"]
    },
    {
      "link": [2, 1],
      "name": "Speed Run and Leave Shinecharged",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        {"canShineCharge": {
          "usedTiles": 33,
          "openEnd": 2
        }},
        {"heatFrames": 360}
      ],
      "exitCondition": {
        "leaveShinecharged": {
          "framesRemaining": 145
        }
      },
      "clearsObstacles": ["A"]
    },
    {
      "link": [2, 1],
      "name": "Speed Run and Leave Running",
      "requires": [
        {"obstaclesNotCleared": ["A"]},
        "SpeedBooster",
        "canHeroShot",
        {"heatFrames": 290}
      ],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 45,
          "openEnd": 1
        }
      },
      "clearsObstacles": ["A"],
      "note": "Shoot while climbing the highest ramp for the shot to open the door."
    },
    {
      "link": [2, 1],
      "name": "Return Shinespark",
      "requires": [
        {"obstaclesCleared": ["A"]},
        "canShinechargeMovementComplex",
        {"canShineCharge": {
          "usedTiles": 33,
          "openEnd": 2
        }},
        {"heatFrames": 335},
        {"shinespark": {"frames": 221}}
      ],
      "note": "Align with the right side of a wall or door then turn around and shinespark in order to avoid colliding with a slope.",
      "devNote": [
        "There is enough time to visit 3 and return to 2 before performing this strat with the shinespark.",
        "The obstacle being broken means Samus has run far enough to charge a shinespark."
      ]
    },
    {
      "link": [2, 2],
      "name": "Leave with Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 8,
          "openEnd": 1
        }
      }
    },
    {
      "link": [2, 3],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 25}
      ]
    },
    {
      "link": [3, 2],
      "name": "Base",
      "requires": [
        "h_canNavigateHeatRooms",
        {"heatFrames": 25}
      ]
    }
  ]
}
