{
  "$schema": "../../../schema/m3-room.schema.json",
  "id": 177,
  "name": "Red Fish Room",
  "area": "Maridia",
  "subarea": "Outer",
  "playable": true,
  "roomAddress": "0x7D104",
  "roomEnvironments": [{"heated": false}],
  "nodes": [
    {
      "id": 1,
      "name": "Top Left Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x001a480",
      "doorEnvironments": [{"physics": "air"}],
      "leaveWithGModeSetup": [
        {"strats": [
          {
            "name": "Get Hit By Zebbo",
            "notable": false,
            "requires": []
          }
        ]}
      ]
    },
    {
      "id": 2,
      "name": "Bottom Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x001a474",
      "doorEnvironments": [{"physics": "water"}],
      "gModeImmobile": {
        "requires": [
          {"enemyDamage": {
            "enemy": "Skultera",
            "type": "contact",
            "hits": 1
          }}
        ],
        "note": "In order to not fall back into the room below, enter on the far left and face and holding left while getting hit, or enter on the far right side while facing left and turn around and hold right white getting hit."
      }
    },
    {
      "id": 3,
      "name": "Bottom Right Ledge",
      "nodeType": "junction",
      "nodeSubType": "junction"
    }
  ],
  "enemies": [
    {
      "id": "e1",
      "groupName": "Red Fish Room Zebbos",
      "enemyName": "Zebbo",
      "quantity": 3,
      "homeNodes": [1],
      "farmCycles": [
        {
          "name": "3 Zebbos power beam desync",
          "cycleFrames": 260,
          "requires": [],
          "note": "Run back and forth from the door to the spawner, alternately spawning and killing 1 Zebbo then 2."
        },
        {
          "name": "Screw attack same spawn 3 enemies",
          "cycleFrames": 180,
          "requires": [
            "ScrewAttack"
          ]
        },
        {
          "name": "Farm top of 3 Zebbos",
          "cycleFrames": 180,
          "requires": [
            {"or": [
              "Wave",
              "Spazer",
              "Plasma",
              "Grapple"
            ]}
          ]
        }
      ]
    },
    {
      "id": "e2",
      "groupName": "Red Fish",
      "enemyName": "Skultera",
      "quantity": 1,
      "homeNodes": [2]
    }
  ],
  "links": [
    {
      "from": 1,
      "to": [
        {"id": 1},
        {"id": 3}
      ]
    },
    {
      "from": 2,
      "to": [
        {"id": 1},
        {"id": 2},
        {"id": 3}
      ]
    },
    {
      "from": 3,
      "to": [
        {"id": 1},
        {"id": 2}
      ]
    }
  ],
  "strats": [
    {
      "link": [1, 1],
      "name": "Leave with Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 7,
          "openEnd": 1
        }
      }
    },
    {
      "link": [1, 1],
      "name": "Zebbo Farm",
      "requires": [
        {"refill": ["Energy", "Missile", "Super"]}
      ]
    },
    {
      "link": [1, 3],
      "name": "Base",
      "requires": [
        "Morph"
      ]
    },
    {
      "link": [1, 3],
      "name": "G-Mode Morph",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [1],
          "mode": "any",
          "artificialMorph": true
        }},
        {"or": [
          "SpringBall",
          "Bombs",
          {"and": [
            "canBombHorizontally",
            {"ammo": {"type": "PowerBomb", "count": 3}}
          ]}
        ]}
      ],
      "note": "Use spring ball to cross the room, or use bombs to kill the Zebbos so they stop respawning. One PB can be placed at the first plant on the ground to bomb across the farm while killing the Zebbos."
    },
    {
      "link": [2, 1],
      "name": "Gravity IBJ",
      "requires": [
        "Gravity",
        "h_canIBJ"
      ]
    },
    {
      "link": [2, 1],
      "name": "Shinespark",
      "entranceCondition": {
        "comeInWithSpark": {}
      },
      "requires": [
        "Morph",
        {"shinespark": {"frames": 25, "excessFrames": 6}}
      ],
      "note": "Enter on the right side of the doorway to be able to get up out of the water and onto the top platform."
    },
    {
      "link": [2, 1],
      "name": "G-Mode Morph",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [2],
          "mode": "any",
          "artificialMorph": true
        }},
        "Gravity",
        {"or": [
          "h_canArtificialMorphIBJ",
          {"and": [
            "SpringBall",
            "HiJump"
          ]}
        ]}
      ],
      "note": "Enter the room on the far right or left side in order to not fall back through the open doorway."
    },
    {
      "link": [2, 2],
      "name": "Shinespark",
      "entranceCondition": {
        "comeInWithSpark": {}
      },
      "requires": [
        {"shinespark": {"frames": 14, "excessFrames": 14}}
      ],
      "note": "Enter on the left side of the doorway to reduce the amount of energy used.",
      "devNote": "This strat is not useful in-room, but can satisfy a strat in the room before with an exit shinespark."
    },
    {
      "link": [2, 2],
      "name": "Crystal Flash",
      "requires": [
        "h_canCrystalFlash"
      ]
    },
    {
      "link": [2, 3],
      "name": "Base",
      "requires": [
        "Gravity"
      ]
    },
    {
      "link": [2, 3],
      "name": "Suitless Jump Assists",
      "requires": [
        "canSuitlessMaridia",
        "HiJump",
        {"or": [
          {"and": [
            "canWalljump",
            "canCarefulJump"
          ]},
          "canSpringBallJumpMidAir"
        ]}
      ]
    },
    {
      "link": [2, 3],
      "name": "Suitless Space Jump",
      "requires": [
        "canSuitlessMaridia",
        {"or": [
          {"and": [
            "canSpaceJumpWaterBounce",
            "canWalljump"
          ]},
          {"and": [
            "canSpaceJumpWaterEscape",
            "HiJump"
          ]}
        ]}
      ],
      "devNote": "This is potentially possible without a wall jump or hijump, but it is extremely precise"
    },
    {
      "link": [2, 3],
      "name": "Suitless Frozen Skultera",
      "requires": [
        "canSuitlessMaridia",
        "canUseFrozenEnemies",
        {"or": [
          "canWalljump",
          "canSpringBallJumpMidAir",
          {"and": [
            "HiJump",
            "canDownGrab"
          ]}
        ]}
      ]
    },
    {
      "link": [2, 3],
      "name": "Shinespark Diagonally to the Ledge",
      "entranceCondition": {
        "comeInShinecharged": {
          "framesRequired": 5
        }
      },
      "requires": [
        {"shinespark": {"frames": 18, "excessFrames": 11}}
      ]
    },
    {
      "link": [2, 3],
      "name": "Shinespark",
      "entranceCondition": {
        "comeInWithSpark": {}
      },
      "requires": [
        "Morph",
        {"shinespark": {"frames": 25, "excessFrames": 15}}
      ],
      "note": "Enter on the right side of the doorway to be able to get up out of the water and onto the right platform."
    },
    {
      "link": [2, 3],
      "name": "Cross Room Jump - Space Jump",
      "requires": [
        "canCrossRoomJumpIntoWater",
        {"adjacentJumpway": {
          "jumpwayType": "doorFrameBelow",
          "fromNode": 2
        }},
        "SpaceJump"
      ],
      "note": [
        "Space Jump up through the door of the room below."
      ]
    },
    {
      "link": [2, 3],
      "name": "Cross Room Jump - Simple Jump",
      "requires": [
        "canCrossRoomJumpIntoWater",
        {"or": [
          {"adjacentJumpway": {
            "jumpwayType": "platformBelow",
            "fromNode": 2,
            "minHeight": 6,
            "maxHeight": 6,
            "maxLeftPosition": 1,
            "minRightPosition": 0
          }},
          {"and": [
            {"adjacentJumpway": {
              "jumpwayType": "platformBelow",
              "fromNode": 2,
              "minHeight": 7,
              "maxHeight": 7,
              "maxLeftPosition": 1,
              "minRightPosition": 0
            }},
            "h_canCrouchJumpDownGrab"
          ]},
          {"and": [
            {"adjacentJumpway": {
              "jumpwayType": "platformBelow",
              "fromNode": 2,
              "minHeight": 8,
              "maxHeight": 9,
              "maxLeftPosition": 1,
              "minRightPosition": 0
            }},
            "HiJump"
          ]},
          {"and": [
            {"adjacentJumpway": {
              "jumpwayType": "platformBelow",
              "fromNode": 2,
              "minHeight": 10,
              "maxHeight": 10,
              "maxLeftPosition": 1,
              "minRightPosition": 0
            }},
            "HiJump",
            {"or": [
              "canCrouchJump",
              "canDownGrab"
            ]}
          ]}
        ]}
      ],
      "note": [
        "Standing on the platform in the room below, jump up through the door.",
        "Depending on the height of the platform, some combination of crouch jumping, down-grabbing, and/or HiJump may be needed to make it onto the ledge.",
        "Spin jumping is not recommended, as it results in less vertical speed after the transition, and extra horizontal speed is not needed here."
      ]
    },
    {
      "link": [2, 3],
      "name": "Cross Room Jump - Wall Jump",
      "requires": [
        "canCrossRoomJumpIntoWater",
        {"adjacentJumpway": {
          "jumpwayType": "doorFrameBelow",
          "fromNode": 2,
          "minHeight": 2
        }},
        "canWalljump"
      ],
      "note": [
        "Wall jump up through the door of the room below, using either side of the door frame."
      ]
    },
    {
      "link": [2, 3],
      "name": "Cross Room Jump - Speed Jump",
      "requires": [
        "canCrossRoomJumpIntoWater",
        {"adjacentJumpway": {
          "jumpwayType": "platformBelow",
          "fromNode": 2,
          "minHeight": 9,
          "maxHeight": 10,
          "maxLeftPosition": -34.5,
          "minRightPosition": -7
        }},
        "SpeedBooster"
      ],
      "note": [
        "Using SpeedBooster in the room below, run left-to-right and jump, pressing against the right side of the door frame through the transition."
      ],
      "devNote": [
        "This strat is applicable in Crocomire's Room and the Post Crocomire Jump Room.",
        "Sufficient vertical speed could be obtained with fewer tiles, but it would require jumping further to the right (i.e., increasing minRightPosition) which would not work in PCJR unless the PB blocks are broken;",
        "since there doesn't yet appear to be any application, we don't add a separate case for that.",
        "Speed jumps from the right side would also be possible, but again there don't yet appear to be any applications."
      ]
    },
    {
      "link": [2, 3],
      "name": "Cross Room Jump - Spring Ball Jump",
      "requires": [
        "canCrossRoomJumpIntoWater",
        {"adjacentJumpway": {
          "jumpwayType": "platformBelow",
          "fromNode": 2,
          "maxHeight": 10,
          "maxLeftPosition": 2,
          "minRightPosition": -2
        }},
        "canCrouchJump",
        "canSpringBallJumpMidAir"
      ],
      "note": [
        "Standing on the platform in the room below, crouch jump and perform a spring ball jump mid-air just before reaching the transition."
      ]
    },
    {
      "link": [3, 1],
      "name": "Base",
      "requires": [
        "Morph",
        {"or": [
          "HiJump",
          "canWalljump",
          "SpaceJump",
          {"and": [
            "h_canIBJ",
            "h_canBombHorizontally"
          ]},
          "canSpringBallJumpMidAir"
        ]}
      ]
    },
    {
      "link": [3, 2],
      "name": "Base",
      "requires": []
    }
  ]
}
