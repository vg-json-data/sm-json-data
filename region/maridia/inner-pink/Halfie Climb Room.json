{
  "$schema": "../../../schema/m3-room.schema.json",
  "id": 187,
  "name": "Halfie Climb Room",
  "area": "Maridia",
  "subarea": "Inner",
  "subsubarea": "Pink",
  "playable": true,
  "roomAddress": "0x7D913",
  "roomEnvironments": [{"heated": false}],
  "nodes": [
    {
      "id": 1,
      "name": "Top Left Door",
      "nodeType": "door",
      "nodeSubType": "grey",
      "nodeAddress": "0x001a900",
      "doorEnvironments": [{"physics": "water"}],
      "leaveWithGModeSetup": [
        {
          "knockback": false,
          "strats": [
            {
              "name": "Get Hit By Mochtroid",
              "notable": false,
              "requires": []
            }
          ]
        }
      ],
      "locks": [
        {
          "name": "Halfie Climb Grey Lock (to East Cactus Alley)",
          "lockType": "gameFlag",
          "unlockStrats": [
            {
              "name": "Base",
              "notable": false,
              "requires": [
                "f_DefeatedDraygon"
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 2,
      "name": "Bottom Left Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x001a8dc",
      "doorEnvironments": [{"physics": "water"}],
      "leaveWithGModeSetup": [
        {
          "knockback": false,
          "strats": [
            {
              "name": "Get Hit By Mochtroid",
              "notable": false,
              "requires": []
            }
          ]
        }
      ]
    },
    {
      "id": 3,
      "name": "Bottom Right Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x001a8f4",
      "doorEnvironments": [{"physics": "water"}]
    },
    {
      "id": 4,
      "name": "Top Right Door",
      "nodeType": "door",
      "nodeSubType": "blue",
      "nodeAddress": "0x001a8e8",
      "doorEnvironments": [{"physics": "air"}],
      "leaveWithGModeSetup": [
        {
          "knockback": false,
          "strats": [
            {
              "name": "Get Hit By Mochtroid",
              "notable": false,
              "requires": []
            }
          ]
        }
      ]
    }
  ],
  "enemies": [
    {
      "id": "e1",
      "groupName": "Halfie Climb Mochtroids",
      "enemyName": "Mochtroid",
      "quantity": 3,
      "homeNodes": [1, 2]
    },
    {
      "id": "e2",
      "groupName": "Halfie Climb Oums",
      "enemyName": "Oum",
      "quantity": 3,
      "homeNodes": [3]
    }
  ],
  "links": [
    {
      "from": 1,
      "to": [
        {"id": 1},
        {"id": 2},
        {"id": 3},
        {"id": 4}
      ]
    },
    {
      "from": 2,
      "to": [
        {"id": 1},
        {"id": 2},
        {"id": 3},
        {
          "id": 4,
          "devNote": "This link is only for the shinespark, mochtroid climbing or cross room jump. Other strats should go 2 -> 1 -> 4."
        }
      ]
    },
    {
      "from": 3,
      "to": [
        {
          "id": 1,
          "devNote": "This link is only for the shinespark. Other strats should go 3 -> 2 -> 1."
        },
        {"id": 2},
        {"id": 3},
        {
          "id": 4,
          "devNote": "This link is only for the shinespark. Other strats should go 3 -> 2 -> 1 -> 4."
        }
      ]
    },
    {
      "from": 4,
      "to": [
        {"id": 1},
        {"id": 3},
        {"id": 4}
      ]
    }
  ],
  "strats": [
    {
      "link": [1, 1],
      "name": "Leave with Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 2,
          "openEnd": 1
        }
      }
    },
    {
      "link": [1, 1],
      "name": "Crystal Flash",
      "requires": [
        "h_canCrystalFlash"
      ]
    },
    {
      "link": [1, 2],
      "name": "Base",
      "requires": []
    },
    {
      "link": [1, 2],
      "name": "Halfie Climb Stored Moonfall Grapple Door Lock Skip",
      "notable": true,
      "entranceCondition": {
        "comeInWithStoredFallSpeed": {
          "fallSpeedInTiles": 1
        }
      },
      "requires": [
        {"doorUnlockedAtNode": 1},
        "canGrappleClip"
      ],
      "bypassesDoorShell": true,
      "note": [
        "Perform a moonfall with stored fall speed to clip into the air space below the door at node 1.",
        "Land, then grapple the nearest block and release.",
        "Samus will fall into the door transition, bypassing any lock that may be on the door."
      ]
    },
    {
      "link": [1, 3],
      "name": "G-Mode Morph",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [1],
          "mode": "any",
          "artificialMorph": true
        }},
        {"or": [
          {"and": [
            "Gravity",
            "h_canArtificialMorphIBJ"
          ]},
          {"and": [
            "SpringBall",
            {"or": [
              "Gravity",
              "HiJump"
            ]}
          ]}
        ]}
      ]
    },
    {
      "link": [1, 4],
      "name": "Base",
      "requires": [
        "Gravity",
        {"or": [
          "SpaceJump",
          {"and": [
            "HiJump",
            {"or": [
              "canSpringBallJumpMidAir",
              "canWalljump"
            ]}
          ]},
          "canConsecutiveWalljump"
        ]}
      ]
    },
    {
      "link": [1, 4],
      "name": "Shinespark",
      "entranceCondition": {
        "comeInShinecharged": {
          "framesRequired": 10
        }
      },
      "requires": [
        "Gravity",
        {"shinespark": {"frames": 20, "excessFrames": 3}}
      ]
    },
    {
      "link": [1, 4],
      "name": "Suitless Shinespark",
      "entranceCondition": {
        "comeInShinecharged": {
          "framesRequired": 10
        }
      },
      "requires": [
        {"shinespark": {"frames": 22, "excessFrames": 5}}
      ]
    },
    {
      "link": [1, 4],
      "name": "Grapple",
      "requires": [
        "h_canNavigateUnderwater",
        "Grapple"
      ]
    },
    {
      "link": [1, 4],
      "name": "Mochtroid Climb",
      "requires": [
        "h_canNavigateUnderwater",
        "canMochtroidIceClimb"
      ]
    },
    {
      "link": [1, 4],
      "name": "Gravity Jump",
      "requires": [
        "canGravityJump",
        "HiJump",
        "SpeedBooster",
        "canCarefulJump"
      ]
    },
    {
      "link": [1, 4],
      "name": "Break Free",
      "requires": [
        "canSuitlessMaridia",
        "HiJump",
        {"or": [
          {"and": [
            "canSpaceJumpWaterBounce",
            "canWalljump"
          ]},
          "canSpaceJumpWaterEscape"
        ]}
      ],
      "devNote": "FIXME: With a single underwaterwalljump you can break free here, without spacejump."
    },
    {
      "link": [1, 4],
      "name": "Suitless SpringBall Jump",
      "requires": [
        "canSuitlessMaridia",
        "HiJump",
        "canTrickyJump",
        "h_canMaxHeightSpringBallJump",
        "canStationaryLateralMidAirMorph"
      ],
      "note": [
        "SpringBall jump just as Samus exits the water to reach the distant ledge.",
        "A Crouch jump makes the SpringBall jump easier, but at the cost of some horizontal movement."
      ],
      "devNote": "canStationaryLateralMidAirMorph is not strictly required but better describes the difficulty."
    },
    {
      "link": [1, 4],
      "name": "Cross Room Jump",
      "entranceCondition": {
        "comeInJumping": {
          "speedBooster": "any",
          "minTiles": 1
        }
      },
      "requires": [
        "canCrossRoomJumpIntoWater",
        {"or": [
          "canWalljump",
          "SpaceJump"
        ]}
      ],
      "note": "Requires a runway of 1 tile in the adjacent room. Use Space Jump or a wall jump after getting out of the water."
    },
    {
      "link": [1, 4],
      "name": "Cross Room Jump with IBJ",
      "requires": [
        "h_canJumpIntoIBJ",
        {"or": [
          "h_canDoubleBombJump",
          {"enemyDamage": {
            "enemy": "Mochtroid",
            "type": "contact",
            "hits": 2
          }}
        ]},
        "canCrossRoomJumpIntoWater",
        "canMomentumConservingTurnaround",
        {"adjacentRunway": {
          "fromNode": 1,
          "usedTiles": 1,
          "inRoomPath": [1, 4],
          "physics": ["air"]
        }}
      ],
      "note": [
        "Only requires a runway of approximately 1 tile in the adjacent room.",
        "Take two Mochtroid hits or use a double bomb jump."
      ]
    },
    {
      "link": [1, 4],
      "name": "G-Mode Morph",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [1],
          "mode": "any",
          "artificialMorph": true
        }},
        "Gravity",
        "h_canArtificialMorphIBJ"
      ],
      "note": "To avoid the Mochtroids, it is possible to place bombs near them while in the Morph Tunnel below to the right."
    },
    {
      "link": [2, 1],
      "name": "Base",
      "requires": [
        "Gravity",
        {"or": [
          "h_canFly",
          "canWalljump",
          "canGravityJump",
          {"and": [
            "HiJump",
            {"or": [
              "canSpringBallJumpMidAir",
              "SpeedBooster"
            ]}
          ]}
        ]}
      ]
    },
    {
      "link": [2, 1],
      "name": "Shinespark",
      "entranceCondition": {
        "comeInShinecharged": {
          "framesRequired": 30
        }
      },
      "requires": [
        {"shinespark": {"frames": 20, "excessFrames": 3}}
      ]
    },
    {
      "link": [2, 1],
      "name": "Grapple",
      "requires": [
        "h_canNavigateUnderwater",
        "Grapple"
      ]
    },
    {
      "link": [2, 1],
      "name": "Mochtroid Climb",
      "requires": [
        "h_canNavigateUnderwater",
        "canMochtroidIceClimb",
        {"or": [
          "Gravity",
          "canDodgeWhileShooting",
          {"enemyDamage": {
            "enemy": "Mochtroid",
            "hits": 2,
            "type": "contact"
          }},
          "Wave",
          "Spazer",
          "Plasma",
          {"and": [
            "canPrepareForNextRoom",
            "Charge"
          ]}
        ]}
      ]
    },
    {
      "link": [2, 1],
      "name": "Halfie Climb X-Ray Climb",
      "entranceCondition": {
        "comeInWithDoorStuckSetup": {}
      },
      "requires": [
        "canXRayClimb"
      ],
      "note": "Climb up 1 screen."
    },
    {
      "link": [2, 1],
      "name": "Cross Room Jump",
      "entranceCondition": {
        "comeInJumping": {
          "speedBooster": "any",
          "minTiles": 1
        }
      },
      "requires": [
        "canCrossRoomJumpIntoWater"
      ],
      "note": "Only requires a runway of 1 tile in the adjacent room.",
      "devNote": "This can be done with a shorter runway (closed end) and canMomentumConservingTurnaround, but that type of connection doesn't exist."
    },
    {
      "link": [2, 1],
      "name": "Suitless Water Shinecharge",
      "entranceCondition": {
        "comeInShinecharging": {
          "length": 3,
          "openEnd": 0
        }
      },
      "requires": [
        "canWaterShineCharge",
        {"shinespark": {"frames": 20, "excessFrames": 3}}
      ],
      "devNote": "This runway length is just an estimate of the worst case scenario for difficulties that can't use canStutterWaterShineCharge."
    },
    {
      "link": [2, 1],
      "name": "Suitless Stutter Water Shinecharge",
      "entranceCondition": {
        "comeInRunning": {
          "speedBooster": true,
          "minTiles": 2.4375
        }
      },
      "requires": [
        "canStutterWaterShineCharge",
        {"canShineCharge": {
          "usedTiles": 33,
          "openEnd": 2
        }},
        {"shinespark": {"frames": 20, "excessFrames": 3}}
      ]
    },
    {
      "link": [2, 1],
      "name": "Halfie Climb Very Deep Stuck X-Ray Climb",
      "notable": true,
      "entranceCondition": {
        "comeInWithGMode": {
          "mode": "direct",
          "morphed": false
        }
      },
      "requires": [
        "canXRayClimb"
      ],
      "bypassesDoorShell": true,
      "note": [
        "Enter with G-mode direct, back up to exactly 8 pixels away from the door transition, and activate X-ray to get very deep stuck in the door.",
        "Climb up a little less than 1 screen, and perform a turnaround buffered spin-jump away from the door to trigger the transition, bypassing any lock on the door.",
        "Perform the spin-jump when Samus' feet are between about 0.5 and 2 tiles below the bottom of the door."
      ],
      "devNote": [
        "Standing any closer to the door will cause Samus to no longer be stuck in the wall when reaching the air pocket above.",
        "Standing any further from the door will make it impossible to get a wall-jump check from the transition tiles."
      ]
    },
    {
      "link": [2, 1],
      "name": "X-Ray Climb Grapple Door Lock Skip",
      "entranceCondition": {
        "comeInWithDoorStuckSetup": {}
      },
      "requires": [
        "canXRayClimb",
        "canGrappleClip"
      ],
      "bypassesDoorShell": true,
      "note": [
        "Perform an X-Ray Climb until you are just above the door into Cacatac Alley.",
        "Walk left into the gap between pipes, behind the grapple blocks.",
        "Walk to the left wall, turn around, crouch, grapple the block and release.",
        "Samus will fall into the door transition.",
        "The camera does not follow Samus but the pipes are still visually in the same position.  And the camera does not break after the transition."
      ]
    },
    {
      "link": [2, 2],
      "name": "Leave with Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 13,
          "openEnd": 0
        }
      }
    },
    {
      "link": [2, 2],
      "name": "Mochtroid Farm",
      "requires": [
        "Gravity",
        {"or": [
          "SpaceJump",
          "Grapple",
          "canConsecutiveWalljump"
        ]},
        {"or": [
          "canDodgeWhileShooting",
          "ScrewAttack",
          "Wave",
          "Spazer",
          "Plasma",
          "Grapple"
        ]},
        {"resetRoom": {
          "nodes": [1, 2, 4],
          "mustStayPut": false
        }},
        {"refill": ["Energy", "Missile", "Super"]}
      ]
    },
    {
      "link": [2, 2],
      "name": "Crystal Flash",
      "requires": [
        "h_canCrystalFlash"
      ]
    },
    {
      "link": [2, 3],
      "name": "Base",
      "requires": [
        "Morph",
        "Gravity"
      ]
    },
    {
      "link": [2, 3],
      "name": "Suitless",
      "requires": [
        "Morph",
        "canSuitlessMaridia",
        {"or": [
          "canSpringBallJumpMidAir",
          "HiJump",
          "canSunkenTileWideWallClimb"
        ]}
      ],
      "devNote": "Run away from the oums and reclimb after each to avoid needing to jump over them."
    },
    {
      "link": [2, 3],
      "name": "G-Mode Morph",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [2],
          "mode": "any",
          "artificialMorph": true
        }},
        {"or": [
          {"and": [
            "Gravity",
            "h_canArtificialMorphIBJ"
          ]},
          {"and": [
            "SpringBall",
            {"or": [
              "Gravity",
              "HiJump"
            ]}
          ]}
        ]}
      ]
    },
    {
      "link": [2, 4],
      "name": "Shinespark",
      "entranceCondition": {
        "comeInShinecharged": {
          "framesRequired": 10
        }
      },
      "requires": [
        {"shinespark": {"frames": 38, "excessFrames": 3}}
      ]
    },
    {
      "link": [2, 4],
      "name": "Cross Room Jump with Speedbooster, HiJump",
      "entranceCondition": {
        "comeInJumping": {
          "speedBooster": true,
          "minTiles": 8
        }
      },
      "requires": [
        "HiJump",
        "canDownGrab",
        "canCrossRoomJumpIntoWater"
      ],
      "note": "Requires a runway of 8 tiles in the adjacent room."
    },
    {
      "link": [2, 4],
      "name": "Cross Room Jump with Spring Ball and IBJ",
      "entranceCondition": {
        "comeInJumping": {
          "speedBooster": false,
          "minTiles": 1
        }
      },
      "requires": [
        "canSpringBallJumpMidAir",
        "h_canJumpIntoIBJ",
        {"or": [
          "h_canDoubleBombJump",
          {"enemyDamage": {
            "enemy": "Mochtroid",
            "type": "contact",
            "hits": 2
          }}
        ]},
        "canCrossRoomJumpIntoWater"
      ],
      "note": [
        "Requires a runway of 1 tile in the adjacent room.",
        "Use a spring ball jump after breaking the water, then ibj.",
        "Take two Mochtroid hits or use a double bomb jump."
      ]
    },
    {
      "link": [2, 4],
      "name": "Cross Room Jump with Wall Jump",
      "entranceCondition": {
        "comeInJumping": {
          "speedBooster": false,
          "minTiles": 1
        }
      },
      "requires": [
        "canPreciseWalljump",
        "canCrossRoomJumpIntoWater"
      ],
      "note": [
        "Requires a runway of 1 tile in the adjacent room.",
        "There is just enough room to wall jump after breaking the water."
      ]
    },
    {
      "link": [2, 4],
      "name": "Suitless Water Shinecharge",
      "entranceCondition": {
        "comeInShinecharging": {
          "length": 3,
          "openEnd": 0
        }
      },
      "requires": [
        "canWaterShineCharge",
        {"canShineCharge": {
          "usedTiles": 33,
          "openEnd": 2
        }},
        {"shinespark": {"frames": 39, "excessFrames": 4}}
      ],
      "devNote": "This runway length is just an estimate of the worst case scenario for difficulties that can't use canStutterWaterShineCharge."
    },
    {
      "link": [2, 4],
      "name": "Suitless Stutter Water Shinecharge",
      "entranceCondition": {
        "comeInRunning": {
          "speedBooster": true,
          "minTiles": 2.4375
        }
      },
      "requires": [
        "canStutterWaterShineCharge",
        {"canShineCharge": {
          "usedTiles": 33,
          "openEnd": 2
        }},
        {"shinespark": {"frames": 39, "excessFrames": 4}}
      ]
    },
    {
      "link": [2, 4],
      "name": "G-Mode Morph",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [2],
          "mode": "any",
          "artificialMorph": true
        }},
        "Gravity",
        "h_canArtificialMorphIBJ"
      ],
      "note": "To avoid the Mochtroids, it is possible to place bombs near them while in the Morph Tunnel to the right."
    },
    {
      "link": [3, 1],
      "name": "Halfie Climb Carry Shinecharge through Morph Tunnel to the Middle",
      "requires": [
        "Morph",
        "Gravity",
        "canShinechargeMovementComplex",
        {"or": [
          {"and": [
            {"canShineCharge": {
              "usedTiles": 33,
              "openEnd": 0
            }},
            {"shinespark": {"frames": 20, "excessFrames": 3}}
          ]},
          {"and": [
            "canMidairShinespark",
            {"canShineCharge": {
              "usedTiles": 33,
              "openEnd": 0
            }},
            {"shinespark": {"frames": 15, "excessFrames": 3}}
          ]}
        ]}
      ],
      "note": [
        "Charge a shinespark below the Oums, near the bottom right door, quickly move through the morph tunnel and spark up left to the middle door.",
        "This is an alternative to wall jumping."
      ],
      "devNote": "Jumping into a diagonal spark saves a little energy from both the jump and hitting the slightly lower ceiling by the door."
    },
    {
      "link": [3, 2],
      "name": "Base",
      "requires": [
        "Morph",
        "Gravity"
      ]
    },
    {
      "link": [3, 2],
      "name": "Suitless With Jump Assist",
      "requires": [
        "Morph",
        "canSuitlessMaridia",
        {"or": [
          "canSpringBallJumpMidAir",
          "HiJump"
        ]}
      ]
    },
    {
      "link": [3, 2],
      "name": "Halfie Climb Enter with Shinespark from the Bottom Right",
      "notable": true,
      "entranceCondition": {
        "comeInShinecharged": {
          "framesRequired": 100
        }
      },
      "requires": [
        "Morph",
        "canSuitlessMaridia",
        "canUseEnemies",
        {"shinespark": {"frames": 91, "excessFrames": 4}}
      ],
      "note": [
        "Quickly shoot out the 3 shot blocks then horizontal spark breaking the speed blocks.",
        "Wait for the Oums to roll on their own to a place where they can be climbed.",
        "Do not stand on the Oums when they begin to attack."
      ]
    },
    {
      "link": [3, 2],
      "name": "G-Mode Morph",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [3],
          "mode": "any",
          "artificialMorph": true
        }},
        {"or": [
          {"and": [
            "Gravity",
            "h_canArtificialMorphIBJ"
          ]},
          {"and": [
            "SpringBall",
            {"or": [
              "Gravity",
              "HiJump"
            ]}
          ]}
        ]}
      ]
    },
    {
      "link": [3, 3],
      "name": "Leave with Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 1,
          "openEnd": 1
        }
      }
    },
    {
      "link": [3, 3],
      "name": "Leave Shinecharged",
      "requires": [
        "Gravity",
        "canShinechargeMovement",
        {"canShineCharge": {
          "usedTiles": 33,
          "openEnd": 2
        }}
      ],
      "exitCondition": {
        "leaveShinecharged": {
          "framesRemaining": 120
        }
      }
    },
    {
      "link": [3, 3],
      "name": "Crystal Flash",
      "requires": [
        "h_canCrystalFlash"
      ]
    },
    {
      "link": [3, 4],
      "name": "Halfie Climb Carry Shinecharge through Morph Tunnel to the Top",
      "requires": [
        "Morph",
        "Gravity",
        "canShinechargeMovementComplex",
        {"or": [
          {"and": [
            {"canShineCharge": {
              "usedTiles": 33,
              "openEnd": 0
            }},
            {"shinespark": {"frames": 39, "excessFrames": 4}}
          ]},
          {"and": [
            "canMidairShinespark",
            {"canShineCharge": {
              "usedTiles": 33,
              "openEnd": 0
            }},
            {"shinespark": {"frames": 33, "excessFrames": 3}}
          ]}
        ]}
      ],
      "note": [
        "Charge a shinespark below the Oums, near the bottom right door, quickly move through the morph tunnel and spark up to the top door.",
        "This is an alternative to wall jumping."
      ],
      "devNote": "Jumping into a diagonal spark saves a little energy from both the jump and hitting the slightly lower ceiling by the door."
    },
    {
      "link": [3, 4],
      "name": "G-Mode Morph",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [3],
          "mode": "any",
          "artificialMorph": true
        }},
        "Gravity",
        "h_canArtificialMorphIBJ"
      ]
    },
    {
      "link": [4, 1],
      "name": "Base",
      "requires": []
    },
    {
      "link": [4, 3],
      "name": "G-Mode Morph",
      "requires": [
        {"comeInWithGMode": {
          "fromNodes": [4],
          "mode": "any",
          "artificialMorph": true
        }},
        {"or": [
          {"and": [
            "Gravity",
            "h_canArtificialMorphIBJ"
          ]},
          {"and": [
            "SpringBall",
            {"or": [
              "Gravity",
              "HiJump"
            ]}
          ]}
        ]}
      ]
    },
    {
      "link": [4, 4],
      "name": "Leave with Runway",
      "requires": [],
      "exitCondition": {
        "leaveWithRunway": {
          "length": 3,
          "openEnd": 1
        }
      }
    },
    {
      "link": [4, 4],
      "name": "Crystal Flash",
      "requires": [
        "h_canCrystalFlash"
      ]
    }
  ]
}
