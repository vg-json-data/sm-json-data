{
  "$schema": "./schema/m3-numerics.schema.json",
  "numericCategories": [
    {
      "name": "Base Parameters",
      "description": "Parameters that may commonly be changed, e.g. based on a randomizer implementation or settings.",
      "numerics": [
        {
          "name": "n_speedKeepLenience",
          "value": 5,
          "minimum": 0,
          "note": "Number of failed attempts expected before a successful speed-keep.",
          "devNote": "This applies to speed-keeps on spikes or thorns, performing a frame-perfect unmorph."
        },
        {
          "name": "n_spikeXModeLenience",
          "value": 2,
          "minimum": 0,
          "note": "Number of failed attempts expected before a successful spike X-mode attempt, where a 2-frame window for the unmorph is required.",
          "devNote": [
            "This applies to X-mode on spikes. In exceptional cases it can also apply to thorns."
          ]
        },
        {
          "name": "n_spikeSuitLenience",
          "value": 15,
          "minimum": 0,
          "note": "Number of failed attempts expected before a successful spike suit attempt.",
          "devNote": "This applies to spike suits with any applicable damage source, include spikes and thorns."
        }
      ]
    },
    {
      "name": "Derived Parameters",
      "description": "Parameters defined in terms of the base parameters.",
      "numerics": [
        {
          "name": "n_speedKeepAttempts",
          "value": {
            "add": ["n_speedKeepLenience", 1]
          },
          "minimum": 1,
          "note": "Total number of attempts expected for a successful speed-keep."
        },
        {
          "name": "n_spikeXModeAttempts",
          "value": {
            "add": ["n_spikeXModeLenience", 1]
          },
          "minimum": 1,
          "note": "Number of attempts expected to successfully perform a spike X-mode with a 2-frame window for the unmorph.",
          "devNote": "This applies to X-mode on spikes. In exceptional cases it can also apply to thorns."
        },
        {
          "name": "n_thornXModeLenience",
          "value": "n_speedKeepLenience",
          "note": "Number of failed attempts expected before a successful X-mode attempt on thorns, where a frame-perfect unmorph is required.",
          "devNote": [
            "This applies to most cases of X-mode on thorns.",
            "This is based on the speed-keep parameter, as the timing is the same."
          ]
        },
        {
          "name": "n_thornXModeAttempts",
          "value": "n_speedKeepAttempts",
          "note": "Number of attempts expected to successfully perform X-mode on thorns (frame-perfect unmorph).",
          "devNote": [
            "This applies to most cases of X-mode on thorns.",
            "This is based on the speed-keep parameter, as the timing is the same."
          ]
        },
        {
          "name": "n_spikeSuitAttempts",
          "value": {
            "add": ["n_spikeSuitLenience", 1]
          },
          "minimum": 1,
          "note": "Number of attempts expected to successfully perform a spike suit."
        }
      ]
    }
  ]
}